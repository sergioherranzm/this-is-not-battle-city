const fg=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))w(v);new MutationObserver(v=>{for(const k of v)if(k.type==="childList")for(const T of k.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&w(T)}).observe(document,{childList:!0,subtree:!0});function r(v){const k={};return v.integrity&&(k.integrity=v.integrity),v.referrerpolicy&&(k.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?k.credentials="include":v.crossorigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function w(v){if(v.ep)return;v.ep=!0;const k=r(v);fetch(v.href,k)}};fg();class nu{constructor(o,r){this.position=o,this.size=r}draw(o,r){}update(o){}}const iu="/this-is-not-battle-city/assets/GUI.13cfa28b.png";class hg extends nu{constructor(o){super(o,{width:60,height:100}),this.timer={time:0,active:!0},this.image=new Image,this.image.src=iu,this.xFrame=0}update(o){this.timer.time+=o,this.timer.time>=.08&&(this.xFrame=(this.xFrame+1)%9,this.timer.time=0)}draw(o,r){o.drawImage(this.image,22+this.xFrame*10,75,9,15,this.position.x,this.position.y,this.size.width,this.size.height)}}class Ag extends nu{constructor(o){super(o,{width:62,height:90}),this.timer={time:0,active:!0},this.image=new Image,this.image.src=iu,this.xFrame=1}update(o){this.timer.time+=o,this.timer.time>=.15&&(this.xFrame=(this.xFrame+1)%3,this.timer.time=0)}draw(o,r){o.drawImage(this.image,2+this.xFrame*15,141,11,16,this.position.x,this.position.y,this.size.width,this.size.height)}}const Vu="/this-is-not-battle-city/assets/Ground_Tile_01_A.df8cebd4.png",hr="/this-is-not-battle-city/assets/Ground_Tile_02_B.2d6e50c6.png",Ar="/this-is-not-battle-city/assets/Ground_Tile_02_C.a6051af8.png",cg={id:"Level1",background:Ar,map:`.............
    .O.O.O.O.O.O.
    .O.O.OXO.O.O.
    .O.O.O.O.O.O.
    .O.O.....O.O.
    .....O.O.....
    X.OO.....OO.X
    .....O.O.....
    .O.O.OOO.O.O.
    .O.O.O.O.O.O.
    .O.O.....O.O.
    .O.O.OOO.O.O.
    .....O%O.....`,enemies:[{type:"EnemyTankStandard",position:{x:50,y:950},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:50,y:250},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:1150,y:250},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:1150,y:950},angle:Math.PI/2}]},qg={id:"Level2",background:hr,map:`.....XXX.....
    .............
    ..SSOSSSOSS..
    ..S..O.O..S..
    ..O.SS.SS.O..
    X.SOS...SOS.X
    X.S...%...S.X
    X.SOS...SOS.X
    ..O.SS.SS.O..
    ..S..O.O..S..
    ..SSOSSSOSS..
    .............
    .....XXX.....`,enemies:[{type:"EnemyTankStandard",position:{x:50,y:250},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:950,y:250},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:150,y:1100},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:950,y:1100},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:1200,y:250},angle:Math.PI/2}]},gg={id:"Level3",background:Ar,map:`.............
    .....XXX.....
    .....OXO.....
    ...X.....X...
    ....X...X....
    ..S...O...S..
    X.SS.OXO.SS.X
    ......O......
    ....X...X....
    ...X.....X...
    ...SS...SS...
    .....OOO.....
    ..X..O%O..X..`,enemies:[{type:"EnemyTankStandard",position:{x:50,y:250},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:950,y:250},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:200,y:1200},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:1200,y:950},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:1200,y:1200},angle:Math.PI/2},{type:"EnemyTankStrong",position:{x:800,y:550},angle:Math.PI/2},{type:"EnemyTankHeavy",position:{x:600,y:550},angle:Math.PI/2}]},dg={id:"Level4",background:Vu,map:`..O..O...O...
    .OOO.O.X.O...
    .....O.O.O.O.
    .SSSSSSSSSS.S
    .O.....O.....
    ..O...OOOOOXX
    OO.O..OO.O...
    ...X.X...OXXO
    SS.SSSSS.SSSS
    ....O.OO...O.
    ..O.O..O.XOO.
    .XO.O......O.
    ......%..O...`,enemies:[{type:"EnemyTankStandard",position:{x:1250,y:1200},angle:Math.PI/2},{type:"EnemyTankStandard",position:{x:1150,y:250},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:150,y:1200},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:400,y:250},angle:Math.PI/2},{type:"EnemyTankStrong",position:{x:500,y:750},angle:Math.PI/2},{type:"EnemyTankHeavy",position:{x:1e3,y:650},angle:Math.PI/2}]},pg={id:"Level5",background:hr,map:`X.....X.....X
    .............
    ...X.....X...
    ..X..OOO..X..
    ....SSSSS....
    ...OS...SO...
    X..OS.%.SO..X
    ...OS...SO...
    ....SSSSS....
    ..X..OOO..X..
    ...X.....X...
    .............
    X.....X.....X`,enemies:[{type:"EnemyTankRapid",position:{x:350,y:1400},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:350,y:250},angle:Math.PI/2},{type:"EnemyTankRapid",position:{x:950,y:750},angle:Math.PI/2},{type:"EnemyTankStrong",position:{x:950,y:250},angle:Math.PI/2},{type:"EnemyTankStrong",position:{x:950,y:1400},angle:Math.PI/2},{type:"EnemyTankStrong",position:{x:350,y:750},angle:Math.PI/2}]},vg={id:"LevelRandom",background:"",map:"",enemies:[]},Ja=[cg,qg,gg,dg,pg,vg];class Ei{constructor(o,r,w,v,k,T){this.position=o,this.size={width:0,height:0},this.IFF=r,this.health=w,this.newPos=o,this.newPosGuess=o,this.actorCollisions=v,this.bulletImpact=k,this.bulletImpactDamage=T}update(o){}draw(o,r){}keyboard_event_down(o){}keyboard_event_up(o){}}class Ii extends Ei{constructor(o,r,w,v,k,T){super(o,"None",r,v,k,T),this.size={width:100,height:100},this.actorSprite=new Image,this.actorSprite.src=w}update(o){}draw(o,r){o.translate(this.position.x,this.position.y),o.drawImage(this.actorSprite,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height)}}const wg="/this-is-not-battle-city/assets/crate_entera.699925a6.png",mg="/this-is-not-battle-city/assets/crate_rota.51268ed6.png",_g="/this-is-not-battle-city/assets/rock.939db7cc.png",Sg="/this-is-not-battle-city/assets/water.4874196d.png";class cr extends Ii{constructor(o){super(o,99**99,"",!1,!1,!1)}}class ru extends Ii{constructor(o){super(o,2,wg,!0,!0,!0)}update(o){if(this.health<=1&&(this.actorSprite.src=mg),this.health<=0){const r=b.indexOf(this);b.splice(r,1)}}}class su extends Ii{constructor(o){super(o,99**99,_g,!0,!0,!1)}}class yg extends Ii{constructor(o){super(o,99**99,Sg,!0,!1,!1),this.waterFrame=0,this.waterTimer={time:0,active:!0}}update(o){this.waterTimer.active===!0&&(this.waterTimer.time+=o),this.waterTimer.time>.08&&(this.waterFrame++,this.waterTimer.time=0),this.waterFrame===40&&(this.waterFrame=0)}draw(o,r){o.translate(this.position.x,this.position.y),o.drawImage(this.actorSprite,this.waterFrame*128,0,128,128,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height)}}const ja="data:image/png;base64,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",Eg="data:image/png;base64,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";class qr extends Ei{constructor(o,r,w,v,k){super(o,r,w,!1,!0,!0),r==="Foe"?this.bulletColor="red":this.bulletColor="orange",this.bulletDefaultSpeed=700,this.bulletAngle=v,this.bulletSpeed=this.bulletDefaultSpeed,this.shooter=k,this.actorSprite=new Image,w>1?(this.size={width:12,height:38},this.actorSprite.src=Eg):(this.size={width:12,height:27},this.actorSprite.src=ja)}update(o){if(this.health<=0){const w=b.indexOf(this);b.splice(w,1)}let r={x:this.position.x+Math.cos(this.bulletAngle)*this.bulletSpeed*o,y:this.position.y+Math.sin(this.bulletAngle)*this.bulletSpeed*o};gr(r,this.size)?this.position=r:this.health=0,Bg(this,this.shooter)}draw(o,r){o.translate(this.position.x,this.position.y),o.rotate(this.bulletAngle+Math.PI/2),this.actorSprite.src===ja?o.drawImage(this.actorSprite,55,45,17,38,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height):o.drawImage(this.actorSprite,54,32,20,63,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height)}}var He=(d=>(d[d.UP=0]="UP",d[d.DOWN=1]="DOWN",d[d.LEFT=2]="LEFT",d[d.RIGHT=3]="RIGHT",d[d.FIRE=4]="FIRE",d))(He||{});const $a={ArrowUp:0,ArrowDown:1,ArrowLeft:2,ArrowRight:3,Control:4},eu="/this-is-not-battle-city/assets/Player_Tank_A.59c0e8d5.png",Ig="/this-is-not-battle-city/assets/Player_Tank_B.3a895a74.png",au="/this-is-not-battle-city/assets/explosion.f0d539d6.png",xg=new URL("data:audio/mpeg;base64,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VVVVVVVVVVVVVVVVVVVVVVVVVVX/+3BE54AB1QnYcQ8xIELjWx8hIx0IjGtd7DBlYQYKa72DDORVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swRPABMX8mU+DMEMgb4RqNJAlRAqQXPMABIkAqAuigBIAeVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQRN8P8AAAf4AAAAgCIBnQAAABAAAB/gAAACAAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk3Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTdj/AAAH+AAAAIAAAP8AAAAQAAAf4AAAAgAAA/wAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAf4AAAAgAAA/wAAABAAAB/gAAACAAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk3Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EETdj/AAAH+AAAAIAAAP8AAAAQAAAf4AAAAgAAA/wAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQRN2P8AAAf4AAAAgAAA/wAAABAAAB/gAAACAAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk3Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",self.location),Og=new URL("/this-is-not-battle-city/assets/motor_idle.f7125e07.mp3",self.location),Tg=new URL("/this-is-not-battle-city/assets/motor_acc.c01262a7.mp3",self.location),Lg=new URL("/this-is-not-battle-city/assets/hit_player.7dd01191.mp3",self.location),Rg=new URL("/this-is-not-battle-city/assets/appear_player.17a333fc.mp3",self.location);class rt extends Ei{constructor(o,r,w,v){super(o,"Friend",r,!0,!0,!0),this.size={width:73,height:85},this.tankDefaultAngleSpeed=500,this.tankDefaultMaxSpeed=300,this.tankDrawAngle=w,this.tankAngle=this.tankDrawAngle,this.pressedKeys=[],this.tankSpeed=0,this.tankMaxSpeed=0,this.keyboardMap=v,this.newPos=o,this.newPosGuess=o,this.respawnTimer={time:-2,active:!0},this.tankSpawnPoint=b.find(k=>k instanceof cr),this.actorSprite=new Image,this.actorSprite.src=eu,this.activeSprite="sprite_1",this.timerTankMove={active:!0,time:0},this.timerShoot={active:!0,time:0},this.loseLiveSprite=new Image,this.loseLiveSprite.src=au,this.loseLiveFrame=0,this.loseLiveTimer={active:!1,time:0},this.audioShot=new Audio(xg.toString()),this.audioIdle=new Audio(Og.toString()),this.audioIdle.loop=!0,this.audioAcc=new Audio(Tg.toString()),this.audioAcc.loop=!0,this.audioLoseLive=new Audio(Lg.toString()),this.audioRespawn=new Audio(Rg.toString()),this.audioShot.volume=1,this.audioIdle.volume=.2,this.audioLoseLive.volume=.4,this.audioRespawn.volume=.3}update(o){if(this.timerTankMove.active===!0&&(this.timerTankMove.time+=o),this.timerShoot.active===!0&&(this.timerShoot.time+=o),this.loseLiveTimer.active===!0&&(this.loseLiveTimer.time+=o),this.respawnTimer.active===!0&&(this.respawnTimer.time+=o,this.respawnTimer.time>3&&(this.respawnTimer.active=!1,this.respawnTimer.time=0)),this.loseLiveTimer.active===!0||this.respawnTimer.active===!0?this.bulletImpactDamage=!1:this.bulletImpactDamage=!0,this.loseLiveTimer.active===!0?(this.actorCollisions=!1,this.bulletImpact=!1):(this.actorCollisions=!0,this.bulletImpact=!0),this.health<=0){const r=b.indexOf(this);b.splice(r,1)}else this.loseLiveTimer.active==!0?(this.loseLiveTimer.time>.2&&(this.loseLiveFrame++,this.loseLiveTimer.time=0),this.loseLiveFrame===0?(this.audioLoseLive.load(),this.audioLoseLive.play()):this.loseLiveFrame>=8&&(Cg(this.tankSpawnPoint)||(this.loseLiveTimer.active=!1,this.loseLiveTimer.time=0,this.loseLiveFrame=0,this.position=this.tankSpawnPoint.position,this.tankAngle=-Math.PI/2,this.respawnTimer.active=!0,this.respawnTimer.time=0,this.audioRespawn.load(),this.audioRespawn.play()))):(this.checkPressedKeys(),this.tankDrawAngle,this.tankAngle,this.tankDrawAngle===2*Math.PI&&(this.tankDrawAngle=0),this.tankSpeed=this.tankSpeed*.3+this.tankMaxSpeed,this.tankSpeed<.1&&(this.tankSpeed=0),this.newPos={x:this.position.x+Math.cos(this.tankAngle)*this.tankSpeed*o,y:this.position.y+Math.sin(this.tankAngle)*this.tankSpeed*o},this.newPosGuess={x:this.newPos.x+Math.cos(this.tankAngle)*this.tankSpeed*o,y:this.newPos.y+Math.sin(this.tankAngle)*this.tankSpeed*o},gr(this.newPos,this.size)&&!uu(this)&&(this.position=this.newPos),this.tankSpeed>0&&this.timerTankMove.time>.06&&(this.activeSprite==="sprite_1"?(this.actorSprite.src=Ig,this.activeSprite="sprite_2"):this.activeSprite==="sprite_2"&&(this.actorSprite.src=eu,this.activeSprite="sprite_1"),this.timerTankMove.time=0),this.tankSpeed===0&&(this.audioIdle.play(),this.audioAcc.pause(),this.audioAcc.load()),this.tankMaxSpeed>0?(this.audioAcc.volume=.1,this.audioAcc.play()):this.audioAcc.volume=this.audioAcc.volume*.9)}draw(o,r){this.loseLiveTimer.active===!0?(o.translate(this.position.x,this.position.y),o.drawImage(this.loseLiveSprite,this.loseLiveFrame*256,0,256,256,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height)):(o.translate(this.position.x,this.position.y),o.rotate(this.tankAngle+Math.PI/2),o.drawImage(this.actorSprite,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height),o.fillStyle="rgba(0, 0, 255, 0.4)",this.respawnTimer.active===!0&&this.respawnTimer.time%.2>.1&&o.fillRect(-this.size.width/2,-this.size.height/2,this.size.width,this.size.height))}checkPressedKeys(){this.pressedKeys.length===0?this.tankMaxSpeed=0:(this.tankMaxSpeed=this.tankDefaultMaxSpeed,this.pressedKeys[0]==="left"?this.tankAngle=Math.PI:this.pressedKeys[0]==="right"?this.tankAngle=0:this.pressedKeys[0]==="up"?this.tankAngle=-Math.PI/2:this.pressedKeys[0]==="down"&&(this.tankAngle=Math.PI/2))}keyboard_event_down(o){if(this.loseLiveTimer.active===!1){const r=this.keyboardMap[o];r===He.LEFT?(this.pressedKeys.some(w=>w==="left")||this.pressedKeys.push("left"),this.audioIdle.load()):r===He.RIGHT?(this.pressedKeys.some(w=>w==="right")||this.pressedKeys.push("right"),this.audioIdle.load()):r===He.UP?(this.pressedKeys.some(w=>w==="up")||this.pressedKeys.push("up"),this.audioIdle.load()):r===He.DOWN?(this.pressedKeys.some(w=>w==="down")||this.pressedKeys.push("down"),this.audioIdle.load()):r===He.FIRE&&this.timerShoot.time>.25&&(this.audioShot.load(),b.push(new qr({x:this.position.x+this.size.width/2*Math.cos(this.tankAngle),y:this.position.y+this.size.height/2*Math.sin(this.tankAngle)},"Friend",1,this.tankAngle,this)),this.audioShot.play(),this.timerShoot.time=0)}}keyboard_event_up(o){const r=this.keyboardMap[o];r===He.LEFT?this.pressedKeys.splice(this.pressedKeys.indexOf("left"),1):r===He.RIGHT?this.pressedKeys.splice(this.pressedKeys.indexOf("right"),1):r===He.UP?this.pressedKeys.splice(this.pressedKeys.indexOf("up"),1):r===He.DOWN&&this.pressedKeys.splice(this.pressedKeys.indexOf("down"),1)}}let st=new URL("/this-is-not-battle-city/assets/hit_enemy.2f30425f.mp3",self.location);const rr=new Audio(st.toString());st=new URL("/this-is-not-battle-city/assets/hit_player.7dd01191.mp3",self.location);const Mg=new Audio(st.toString());st=new URL("data:audio/mpeg;base64,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VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVX/+xDE3IPBlA0/HJAAKAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVf/7EMTWA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVV//sQxNYDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVX/+xDE1gPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVf/7EMTWA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxNYDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xDE1gPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMTWA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxNYDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xDE1gPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",self.location);const sr=new Audio(st.toString());st=new URL("/this-is-not-battle-city/assets/destroy_box.f7197df3.mp3",self.location);const ar=new Audio(st.toString());st=new URL("data:audio/mpeg;base64,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ACAAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOMP8AwA0AGgAAgAAA/wAAABACgDRgaAACAAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOUH8AwA0AGgAAgAAA/wAAABAKQFQQeAACgAAD/AAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOsAACgBUS0oAA4AAA/woAABAbALQpjwAAAAAD/DAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZOUAADgC0K4IAAAAAA/wwAAAAAAB/hgAAAAAAD/DAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",self.location);const In=new Audio(st.toString());rr.volume=1;Mg.volume=1;sr.volume=.4;ar.volume=.15;In.volume=1;const gr=(d,o)=>d.x+o.width/2<1300&&d.x-o.width/2>0&&d.y+o.height/2<1500&&d.y-o.height/2>200,Cg=d=>{const o=b.filter(r=>r instanceof Ke);for(let r=0;r<=o.length-1;r++){let w=o[r];if(w!==d&&d.size.width/2+w.size.width/2>=Math.abs(d.position.x-w.newPos.x)&&d.size.height/2+w.size.height/2>=Math.abs(d.position.y-w.newPos.y))return!0}return!1},uu=d=>{const o=b.filter(r=>r.actorCollisions===!0);for(let r=0;r<=o.length-1;r++){let w=o[r];if(w!==d&&d.size.width/2+w.size.width/2>=Math.abs(d.newPos.x-w.newPos.x)&&d.size.height/2+w.size.height/2>=Math.abs(d.newPos.y-w.newPos.y))return!0}return!1},Bg=(d,o)=>{b.forEach(r=>{r!==d&&r!==o&&r.bulletImpact===!0&&d.size.width/2+r.size.width/2>=Math.abs(d.position.x-r.position.x)&&d.size.height/2+r.size.height/2>=Math.abs(d.position.y-r.position.y)&&(d.IFF!==r.IFF&&r.bulletImpactDamage===!0&&(r instanceof rt?o instanceof Ke&&r.respawnTimer.active===!1&&(r.health-=d.health,r.loseLiveTimer.active=!0):(r instanceof Ke&&o instanceof rt&&r.getNewRandomDirection(),r.health-=d.health)),d.health=0,r instanceof Ke&&o instanceof rt?(rr.load(),rr.play()):r instanceof rt&&o instanceof Ke?r.respawnTimer.active===!0&&(In.load(),In.play()):r instanceof ru&&o instanceof rt?r.health===0?(ar.load(),ar.play()):(sr.load(),sr.play()):(r instanceof su||r instanceof qr)&&o instanceof rt&&(In.load(),In.play()))})};var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(d,o){(function(){var r,w="4.17.21",v=200,k="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",T="Expected a function",xn="Invalid `variable` option passed into `_.template`",at="__lodash_hash_undefined__",On=500,Tn="__lodash_placeholder__",ut=1,dr=2,Ct=4,Bt=1,Ln=2,ve=1,wt=2,pr=4,Fe=8,bt=16,Qe=32,Ut=64,Xe=128,tn=256,xi=512,cu=30,qu="...",gu=800,du=16,vr=1,pu=2,vu=3,mt=1/0,ot=9007199254740991,wu=17976931348623157e292,Rn=0/0,We=4294967295,mu=We-1,_u=We>>>1,Su=[["ary",Xe],["bind",ve],["bindKey",wt],["curry",Fe],["curryRight",bt],["flip",xi],["partial",Qe],["partialRight",Ut],["rearg",tn]],kt="[object Arguments]",Mn="[object Array]",yu="[object AsyncFunction]",nn="[object Boolean]",Vn="[object Date]",Eu="[object DOMException]",Cn="[object Error]",Bn="[object Function]",wr="[object GeneratorFunction]",Le="[object Map]",rn="[object Number]",Iu="[object Null]",Ze="[object Object]",mr="[object Promise]",xu="[object Proxy]",sn="[object RegExp]",Re="[object Set]",an="[object String]",bn="[object Symbol]",Ou="[object Undefined]",un="[object WeakMap]",Tu="[object WeakSet]",on="[object ArrayBuffer]",Pt="[object DataView]",Oi="[object Float32Array]",Ti="[object Float64Array]",Li="[object Int8Array]",Ri="[object Int16Array]",Mi="[object Int32Array]",Ci="[object Uint8Array]",Bi="[object Uint8ClampedArray]",bi="[object Uint16Array]",Ui="[object Uint32Array]",Lu=/\b__p \+= '';/g,Ru=/\b(__p \+=) '' \+/g,Mu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_r=/&(?:amp|lt|gt|quot|#39);/g,Sr=/[&<>"']/g,Cu=RegExp(_r.source),Bu=RegExp(Sr.source),bu=/<%-([\s\S]+?)%>/g,Uu=/<%([\s\S]+?)%>/g,yr=/<%=([\s\S]+?)%>/g,ku=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pu=/^\w*$/,Du=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ki=/[\\^$.*+?()[\]{}|]/g,Fu=RegExp(ki.source),Pi=/^\s+/,Qu=/\s/,Wu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gu=/\{\n\/\* \[wrapped with (.+)\] \*/,Nu=/,? & /,zu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hu=/[()=,{}\[\]\/\s]/,Ku=/\\(\\)?/g,Xu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Er=/\w*$/,Zu=/^[-+]0x[0-9a-f]+$/i,Yu=/^0b[01]+$/i,Ju=/^\[object .+?Constructor\]$/,ju=/^0o[0-7]+$/i,$u=/^(?:0|[1-9]\d*)$/,eo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Un=/($^)/,to=/['\n\r\u2028\u2029\\]/g,kn="\\ud800-\\udfff",no="\\u0300-\\u036f",io="\\ufe20-\\ufe2f",Vo="\\u20d0-\\u20ff",Ir=no+io+Vo,xr="\\u2700-\\u27bf",Or="a-z\\xdf-\\xf6\\xf8-\\xff",ro="\\xac\\xb1\\xd7\\xf7",so="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ao="\\u2000-\\u206f",uo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tr="A-Z\\xc0-\\xd6\\xd8-\\xde",Lr="\\ufe0e\\ufe0f",Rr=ro+so+ao+uo,Di="['\u2019]",oo="["+kn+"]",Mr="["+Rr+"]",Pn="["+Ir+"]",Cr="\\d+",lo="["+xr+"]",Br="["+Or+"]",br="[^"+kn+Rr+Cr+xr+Or+Tr+"]",Fi="\\ud83c[\\udffb-\\udfff]",fo="(?:"+Pn+"|"+Fi+")",Ur="[^"+kn+"]",Qi="(?:\\ud83c[\\udde6-\\uddff]){2}",Wi="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+Tr+"]",kr="\\u200d",Pr="(?:"+Br+"|"+br+")",ho="(?:"+Dt+"|"+br+")",Dr="(?:"+Di+"(?:d|ll|m|re|s|t|ve))?",Fr="(?:"+Di+"(?:D|LL|M|RE|S|T|VE))?",Qr=fo+"?",Wr="["+Lr+"]?",Ao="(?:"+kr+"(?:"+[Ur,Qi,Wi].join("|")+")"+Wr+Qr+")*",co="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gr=Wr+Qr+Ao,go="(?:"+[lo,Qi,Wi].join("|")+")"+Gr,po="(?:"+[Ur+Pn+"?",Pn,Qi,Wi,oo].join("|")+")",vo=RegExp(Di,"g"),wo=RegExp(Pn,"g"),Gi=RegExp(Fi+"(?="+Fi+")|"+po+Gr,"g"),mo=RegExp([Dt+"?"+Br+"+"+Dr+"(?="+[Mr,Dt,"$"].join("|")+")",ho+"+"+Fr+"(?="+[Mr,Dt+Pr,"$"].join("|")+")",Dt+"?"+Pr+"+"+Dr,Dt+"+"+Fr,qo,co,Cr,go].join("|"),"g"),_o=RegExp("["+kr+kn+Ir+Lr+"]"),So=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Eo=-1,G={};G[Oi]=G[Ti]=G[Li]=G[Ri]=G[Mi]=G[Ci]=G[Bi]=G[bi]=G[Ui]=!0,G[kt]=G[Mn]=G[on]=G[nn]=G[Pt]=G[Vn]=G[Cn]=G[Bn]=G[Le]=G[rn]=G[Ze]=G[sn]=G[Re]=G[an]=G[un]=!1;var W={};W[kt]=W[Mn]=W[on]=W[Pt]=W[nn]=W[Vn]=W[Oi]=W[Ti]=W[Li]=W[Ri]=W[Mi]=W[Le]=W[rn]=W[Ze]=W[sn]=W[Re]=W[an]=W[bn]=W[Ci]=W[Bi]=W[bi]=W[Ui]=!0,W[Cn]=W[Bn]=W[un]=!1;var Io={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},To={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lo=parseFloat,Ro=parseInt,Nr=typeof En=="object"&&En&&En.Object===Object&&En,Mo=typeof self=="object"&&self&&self.Object===Object&&self,ee=Nr||Mo||Function("return this")(),Ni=o&&!o.nodeType&&o,_t=Ni&&!0&&d&&!d.nodeType&&d,zr=_t&&_t.exports===Ni,zi=zr&&Nr.process,we=function(){try{var f=_t&&_t.require&&_t.require("util").types;return f||zi&&zi.binding&&zi.binding("util")}catch{}}(),Hr=we&&we.isArrayBuffer,Kr=we&&we.isDate,Xr=we&&we.isMap,Zr=we&&we.isRegExp,Yr=we&&we.isSet,Jr=we&&we.isTypedArray;function fe(f,c,A){switch(A.length){case 0:return f.call(c);case 1:return f.call(c,A[0]);case 2:return f.call(c,A[0],A[1]);case 3:return f.call(c,A[0],A[1],A[2])}return f.apply(c,A)}function Co(f,c,A,_){for(var x=-1,P=f==null?0:f.length;++x<P;){var J=f[x];c(_,J,A(J),f)}return _}function me(f,c){for(var A=-1,_=f==null?0:f.length;++A<_&&c(f[A],A,f)!==!1;);return f}function Bo(f,c){for(var A=f==null?0:f.length;A--&&c(f[A],A,f)!==!1;);return f}function jr(f,c){for(var A=-1,_=f==null?0:f.length;++A<_;)if(!c(f[A],A,f))return!1;return!0}function lt(f,c){for(var A=-1,_=f==null?0:f.length,x=0,P=[];++A<_;){var J=f[A];c(J,A,f)&&(P[x++]=J)}return P}function Dn(f,c){var A=f==null?0:f.length;return!!A&&Ft(f,c,0)>-1}function Hi(f,c,A){for(var _=-1,x=f==null?0:f.length;++_<x;)if(A(c,f[_]))return!0;return!1}function N(f,c){for(var A=-1,_=f==null?0:f.length,x=Array(_);++A<_;)x[A]=c(f[A],A,f);return x}function ft(f,c){for(var A=-1,_=c.length,x=f.length;++A<_;)f[x+A]=c[A];return f}function Ki(f,c,A,_){var x=-1,P=f==null?0:f.length;for(_&&P&&(A=f[++x]);++x<P;)A=c(A,f[x],x,f);return A}function bo(f,c,A,_){var x=f==null?0:f.length;for(_&&x&&(A=f[--x]);x--;)A=c(A,f[x],x,f);return A}function Xi(f,c){for(var A=-1,_=f==null?0:f.length;++A<_;)if(c(f[A],A,f))return!0;return!1}var Uo=Zi("length");function ko(f){return f.split("")}function Po(f){return f.match(zu)||[]}function $r(f,c,A){var _;return A(f,function(x,P,J){if(c(x,P,J))return _=P,!1}),_}function Fn(f,c,A,_){for(var x=f.length,P=A+(_?1:-1);_?P--:++P<x;)if(c(f[P],P,f))return P;return-1}function Ft(f,c,A){return c===c?Yo(f,c,A):Fn(f,es,A)}function Do(f,c,A,_){for(var x=A-1,P=f.length;++x<P;)if(_(f[x],c))return x;return-1}function es(f){return f!==f}function ts(f,c){var A=f==null?0:f.length;return A?Ji(f,c)/A:Rn}function Zi(f){return function(c){return c==null?r:c[f]}}function Yi(f){return function(c){return f==null?r:f[c]}}function ns(f,c,A,_,x){return x(f,function(P,J,Q){A=_?(_=!1,P):c(A,P,J,Q)}),A}function Fo(f,c){var A=f.length;for(f.sort(c);A--;)f[A]=f[A].value;return f}function Ji(f,c){for(var A,_=-1,x=f.length;++_<x;){var P=c(f[_]);P!==r&&(A=A===r?P:A+P)}return A}function ji(f,c){for(var A=-1,_=Array(f);++A<f;)_[A]=c(A);return _}function Qo(f,c){return N(c,function(A){return[A,f[A]]})}function is(f){return f&&f.slice(0,as(f)+1).replace(Pi,"")}function he(f){return function(c){return f(c)}}function $i(f,c){return N(c,function(A){return f[A]})}function ln(f,c){return f.has(c)}function Vs(f,c){for(var A=-1,_=f.length;++A<_&&Ft(c,f[A],0)>-1;);return A}function rs(f,c){for(var A=f.length;A--&&Ft(c,f[A],0)>-1;);return A}function Wo(f,c){for(var A=f.length,_=0;A--;)f[A]===c&&++_;return _}var Go=Yi(Io),No=Yi(xo);function zo(f){return"\\"+To[f]}function Ho(f,c){return f==null?r:f[c]}function Qt(f){return _o.test(f)}function Ko(f){return So.test(f)}function Xo(f){for(var c,A=[];!(c=f.next()).done;)A.push(c.value);return A}function eV(f){var c=-1,A=Array(f.size);return f.forEach(function(_,x){A[++c]=[x,_]}),A}function ss(f,c){return function(A){return f(c(A))}}function ht(f,c){for(var A=-1,_=f.length,x=0,P=[];++A<_;){var J=f[A];(J===c||J===Tn)&&(f[A]=Tn,P[x++]=A)}return P}function Qn(f){var c=-1,A=Array(f.size);return f.forEach(function(_){A[++c]=_}),A}function Zo(f){var c=-1,A=Array(f.size);return f.forEach(function(_){A[++c]=[_,_]}),A}function Yo(f,c,A){for(var _=A-1,x=f.length;++_<x;)if(f[_]===c)return _;return-1}function Jo(f,c,A){for(var _=A+1;_--;)if(f[_]===c)return _;return _}function Wt(f){return Qt(f)?$o(f):Uo(f)}function Me(f){return Qt(f)?el(f):ko(f)}function as(f){for(var c=f.length;c--&&Qu.test(f.charAt(c)););return c}var jo=Yi(Oo);function $o(f){for(var c=Gi.lastIndex=0;Gi.test(f);)++c;return c}function el(f){return f.match(Gi)||[]}function tl(f){return f.match(mo)||[]}var nl=function f(c){c=c==null?ee:Gt.defaults(ee.Object(),c,Gt.pick(ee,yo));var A=c.Array,_=c.Date,x=c.Error,P=c.Function,J=c.Math,Q=c.Object,tV=c.RegExp,il=c.String,_e=c.TypeError,Wn=A.prototype,Vl=P.prototype,Nt=Q.prototype,Gn=c["__core-js_shared__"],Nn=Vl.toString,F=Nt.hasOwnProperty,rl=0,us=function(){var e=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),zn=Nt.toString,sl=Nn.call(Q),al=ee._,ul=tV("^"+Nn.call(F).replace(ki,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hn=zr?c.Buffer:r,At=c.Symbol,Kn=c.Uint8Array,os=Hn?Hn.allocUnsafe:r,Xn=ss(Q.getPrototypeOf,Q),ls=Q.create,fs=Nt.propertyIsEnumerable,Zn=Wn.splice,hs=At?At.isConcatSpreadable:r,fn=At?At.iterator:r,St=At?At.toStringTag:r,Yn=function(){try{var e=Ot(Q,"defineProperty");return e({},"",{}),e}catch{}}(),ol=c.clearTimeout!==ee.clearTimeout&&c.clearTimeout,ll=_&&_.now!==ee.Date.now&&_.now,fl=c.setTimeout!==ee.setTimeout&&c.setTimeout,Jn=J.ceil,jn=J.floor,nV=Q.getOwnPropertySymbols,hl=Hn?Hn.isBuffer:r,As=c.isFinite,Al=Wn.join,cl=ss(Q.keys,Q),j=J.max,ne=J.min,ql=_.now,gl=c.parseInt,cs=J.random,dl=Wn.reverse,iV=Ot(c,"DataView"),hn=Ot(c,"Map"),VV=Ot(c,"Promise"),zt=Ot(c,"Set"),An=Ot(c,"WeakMap"),cn=Ot(Q,"create"),$n=An&&new An,Ht={},pl=Tt(iV),vl=Tt(hn),wl=Tt(VV),ml=Tt(zt),_l=Tt(An),ei=At?At.prototype:r,qn=ei?ei.valueOf:r,qs=ei?ei.toString:r;function s(e){if(K(e)&&!O(e)&&!(e instanceof B)){if(e instanceof Se)return e;if(F.call(e,"__wrapped__"))return ga(e)}return new Se(e)}var Kt=function(){function e(){}return function(t){if(!z(t))return{};if(ls)return ls(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ti(){}function Se(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}s.templateSettings={escape:bu,evaluate:Uu,interpolate:yr,variable:"",imports:{_:s}},s.prototype=ti.prototype,s.prototype.constructor=s,Se.prototype=Kt(ti.prototype),Se.prototype.constructor=Se;function B(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function Sl(){var e=new B(this.__wrapped__);return e.__actions__=ae(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ae(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ae(this.__views__),e}function yl(){if(this.__filtered__){var e=new B(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function El(){var e=this.__wrapped__.value(),t=this.__dir__,n=O(e),i=t<0,V=n?e.length:0,a=Pf(0,V,this.__views__),u=a.start,l=a.end,h=l-u,q=i?l:u-1,g=this.__iteratees__,p=g.length,m=0,S=ne(h,this.__takeCount__);if(!n||!i&&V==h&&S==h)return Ds(e,this.__actions__);var E=[];e:for(;h--&&m<S;){q+=t;for(var R=-1,I=e[q];++R<p;){var C=g[R],U=C.iteratee,qe=C.type,se=U(I);if(qe==pu)I=se;else if(!se){if(qe==vr)continue e;break e}}E[m++]=I}return E}B.prototype=Kt(ti.prototype),B.prototype.constructor=B;function yt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Il(){this.__data__=cn?cn(null):{},this.size=0}function xl(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ol(e){var t=this.__data__;if(cn){var n=t[e];return n===at?r:n}return F.call(t,e)?t[e]:r}function Tl(e){var t=this.__data__;return cn?t[e]!==r:F.call(t,e)}function Ll(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cn&&t===r?at:t,this}yt.prototype.clear=Il,yt.prototype.delete=xl,yt.prototype.get=Ol,yt.prototype.has=Tl,yt.prototype.set=Ll;function Ye(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Rl(){this.__data__=[],this.size=0}function Ml(e){var t=this.__data__,n=ni(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Zn.call(t,n,1),--this.size,!0}function Cl(e){var t=this.__data__,n=ni(t,e);return n<0?r:t[n][1]}function Bl(e){return ni(this.__data__,e)>-1}function bl(e,t){var n=this.__data__,i=ni(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}Ye.prototype.clear=Rl,Ye.prototype.delete=Ml,Ye.prototype.get=Cl,Ye.prototype.has=Bl,Ye.prototype.set=bl;function Je(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ul(){this.size=0,this.__data__={hash:new yt,map:new(hn||Ye),string:new yt}}function kl(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t}function Pl(e){return ci(this,e).get(e)}function Dl(e){return ci(this,e).has(e)}function Fl(e,t){var n=ci(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}Je.prototype.clear=Ul,Je.prototype.delete=kl,Je.prototype.get=Pl,Je.prototype.has=Dl,Je.prototype.set=Fl;function Et(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Je;++t<n;)this.add(e[t])}function Ql(e){return this.__data__.set(e,at),this}function Wl(e){return this.__data__.has(e)}Et.prototype.add=Et.prototype.push=Ql,Et.prototype.has=Wl;function Ce(e){var t=this.__data__=new Ye(e);this.size=t.size}function Gl(){this.__data__=new Ye,this.size=0}function Nl(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function zl(e){return this.__data__.get(e)}function Hl(e){return this.__data__.has(e)}function Kl(e,t){var n=this.__data__;if(n instanceof Ye){var i=n.__data__;if(!hn||i.length<v-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Je(i)}return n.set(e,t),this.size=n.size,this}Ce.prototype.clear=Gl,Ce.prototype.delete=Nl,Ce.prototype.get=zl,Ce.prototype.has=Hl,Ce.prototype.set=Kl;function gs(e,t){var n=O(e),i=!n&&Lt(e),V=!n&&!i&&pt(e),a=!n&&!i&&!V&&Jt(e),u=n||i||V||a,l=u?ji(e.length,il):[],h=l.length;for(var q in e)(t||F.call(e,q))&&!(u&&(q=="length"||V&&(q=="offset"||q=="parent")||a&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||tt(q,h)))&&l.push(q);return l}function ds(e){var t=e.length;return t?e[qV(0,t-1)]:r}function Xl(e,t){return qi(ae(e),It(t,0,e.length))}function Zl(e){return qi(ae(e))}function rV(e,t,n){(n!==r&&!Be(e[t],n)||n===r&&!(t in e))&&je(e,t,n)}function gn(e,t,n){var i=e[t];(!(F.call(e,t)&&Be(i,n))||n===r&&!(t in e))&&je(e,t,n)}function ni(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function Yl(e,t,n,i){return ct(e,function(V,a,u){t(i,V,n(V),u)}),i}function ps(e,t){return e&&Ne(t,$(t),e)}function Jl(e,t){return e&&Ne(t,oe(t),e)}function je(e,t,n){t=="__proto__"&&Yn?Yn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sV(e,t){for(var n=-1,i=t.length,V=A(i),a=e==null;++n<i;)V[n]=a?r:FV(e,t[n]);return V}function It(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function ye(e,t,n,i,V,a){var u,l=t&ut,h=t&dr,q=t&Ct;if(n&&(u=V?n(e,i,V,a):n(e)),u!==r)return u;if(!z(e))return e;var g=O(e);if(g){if(u=Ff(e),!l)return ae(e,u)}else{var p=ie(e),m=p==Bn||p==wr;if(pt(e))return Ws(e,l);if(p==Ze||p==kt||m&&!V){if(u=h||m?{}:aa(e),!l)return h?Tf(e,Jl(u,e)):Of(e,ps(u,e))}else{if(!W[p])return V?e:{};u=Qf(e,p,l)}}a||(a=new Ce);var S=a.get(e);if(S)return S;a.set(e,u),Ua(e)?e.forEach(function(I){u.add(ye(I,t,n,I,e,a))}):Ba(e)&&e.forEach(function(I,C){u.set(C,ye(I,t,n,C,e,a))});var E=q?h?IV:EV:h?oe:$,R=g?r:E(e);return me(R||e,function(I,C){R&&(C=I,I=e[C]),gn(u,C,ye(I,t,n,C,e,a))}),u}function jl(e){var t=$(e);return function(n){return vs(n,e,t)}}function vs(e,t,n){var i=n.length;if(e==null)return!i;for(e=Q(e);i--;){var V=n[i],a=t[V],u=e[V];if(u===r&&!(V in e)||!a(u))return!1}return!0}function ws(e,t,n){if(typeof e!="function")throw new _e(T);return Sn(function(){e.apply(r,n)},t)}function dn(e,t,n,i){var V=-1,a=Dn,u=!0,l=e.length,h=[],q=t.length;if(!l)return h;n&&(t=N(t,he(n))),i?(a=Hi,u=!1):t.length>=v&&(a=ln,u=!1,t=new Et(t));e:for(;++V<l;){var g=e[V],p=n==null?g:n(g);if(g=i||g!==0?g:0,u&&p===p){for(var m=q;m--;)if(t[m]===p)continue e;h.push(g)}else a(t,p,i)||h.push(g)}return h}var ct=Ks(Ge),ms=Ks(uV,!0);function $l(e,t){var n=!0;return ct(e,function(i,V,a){return n=!!t(i,V,a),n}),n}function ii(e,t,n){for(var i=-1,V=e.length;++i<V;){var a=e[i],u=t(a);if(u!=null&&(l===r?u===u&&!ce(u):n(u,l)))var l=u,h=a}return h}function ef(e,t,n,i){var V=e.length;for(n=L(n),n<0&&(n=-n>V?0:V+n),i=i===r||i>V?V:L(i),i<0&&(i+=V),i=n>i?0:Pa(i);n<i;)e[n++]=t;return e}function _s(e,t){var n=[];return ct(e,function(i,V,a){t(i,V,a)&&n.push(i)}),n}function te(e,t,n,i,V){var a=-1,u=e.length;for(n||(n=Gf),V||(V=[]);++a<u;){var l=e[a];t>0&&n(l)?t>1?te(l,t-1,n,i,V):ft(V,l):i||(V[V.length]=l)}return V}var aV=Xs(),Ss=Xs(!0);function Ge(e,t){return e&&aV(e,t,$)}function uV(e,t){return e&&Ss(e,t,$)}function Vi(e,t){return lt(t,function(n){return nt(e[n])})}function xt(e,t){t=gt(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[ze(t[n++])];return n&&n==i?e:r}function ys(e,t,n){var i=t(e);return O(e)?i:ft(i,n(e))}function Ve(e){return e==null?e===r?Ou:Iu:St&&St in Q(e)?kf(e):Yf(e)}function oV(e,t){return e>t}function tf(e,t){return e!=null&&F.call(e,t)}function nf(e,t){return e!=null&&t in Q(e)}function Vf(e,t,n){return e>=ne(t,n)&&e<j(t,n)}function lV(e,t,n){for(var i=n?Hi:Dn,V=e[0].length,a=e.length,u=a,l=A(a),h=1/0,q=[];u--;){var g=e[u];u&&t&&(g=N(g,he(t))),h=ne(g.length,h),l[u]=!n&&(t||V>=120&&g.length>=120)?new Et(u&&g):r}g=e[0];var p=-1,m=l[0];e:for(;++p<V&&q.length<h;){var S=g[p],E=t?t(S):S;if(S=n||S!==0?S:0,!(m?ln(m,E):i(q,E,n))){for(u=a;--u;){var R=l[u];if(!(R?ln(R,E):i(e[u],E,n)))continue e}m&&m.push(E),q.push(S)}}return q}function rf(e,t,n,i){return Ge(e,function(V,a,u){t(i,n(V),a,u)}),i}function pn(e,t,n){t=gt(t,e),e=fa(e,t);var i=e==null?e:e[ze(Ie(t))];return i==null?r:fe(i,e,n)}function Es(e){return K(e)&&Ve(e)==kt}function sf(e){return K(e)&&Ve(e)==on}function af(e){return K(e)&&Ve(e)==Vn}function vn(e,t,n,i,V){return e===t?!0:e==null||t==null||!K(e)&&!K(t)?e!==e&&t!==t:uf(e,t,n,i,vn,V)}function uf(e,t,n,i,V,a){var u=O(e),l=O(t),h=u?Mn:ie(e),q=l?Mn:ie(t);h=h==kt?Ze:h,q=q==kt?Ze:q;var g=h==Ze,p=q==Ze,m=h==q;if(m&&pt(e)){if(!pt(t))return!1;u=!0,g=!1}if(m&&!g)return a||(a=new Ce),u||Jt(e)?Va(e,t,n,i,V,a):bf(e,t,h,n,i,V,a);if(!(n&Bt)){var S=g&&F.call(e,"__wrapped__"),E=p&&F.call(t,"__wrapped__");if(S||E){var R=S?e.value():e,I=E?t.value():t;return a||(a=new Ce),V(R,I,n,i,a)}}return m?(a||(a=new Ce),Uf(e,t,n,i,V,a)):!1}function of(e){return K(e)&&ie(e)==Le}function fV(e,t,n,i){var V=n.length,a=V,u=!i;if(e==null)return!a;for(e=Q(e);V--;){var l=n[V];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++V<a;){l=n[V];var h=l[0],q=e[h],g=l[1];if(u&&l[2]){if(q===r&&!(h in e))return!1}else{var p=new Ce;if(i)var m=i(q,g,h,e,t,p);if(!(m===r?vn(g,q,Bt|Ln,i,p):m))return!1}}return!0}function Is(e){if(!z(e)||zf(e))return!1;var t=nt(e)?ul:Ju;return t.test(Tt(e))}function lf(e){return K(e)&&Ve(e)==sn}function ff(e){return K(e)&&ie(e)==Re}function hf(e){return K(e)&&mi(e.length)&&!!G[Ve(e)]}function xs(e){return typeof e=="function"?e:e==null?le:typeof e=="object"?O(e)?Ls(e[0],e[1]):Ts(e):Za(e)}function hV(e){if(!_n(e))return cl(e);var t=[];for(var n in Q(e))F.call(e,n)&&n!="constructor"&&t.push(n);return t}function Af(e){if(!z(e))return Zf(e);var t=_n(e),n=[];for(var i in e)i=="constructor"&&(t||!F.call(e,i))||n.push(i);return n}function AV(e,t){return e<t}function Os(e,t){var n=-1,i=ue(e)?A(e.length):[];return ct(e,function(V,a,u){i[++n]=t(V,a,u)}),i}function Ts(e){var t=OV(e);return t.length==1&&t[0][2]?oa(t[0][0],t[0][1]):function(n){return n===e||fV(n,e,t)}}function Ls(e,t){return LV(e)&&ua(t)?oa(ze(e),t):function(n){var i=FV(n,e);return i===r&&i===t?QV(n,e):vn(t,i,Bt|Ln)}}function ri(e,t,n,i,V){e!==t&&aV(t,function(a,u){if(V||(V=new Ce),z(a))cf(e,t,u,n,ri,i,V);else{var l=i?i(MV(e,u),a,u+"",e,t,V):r;l===r&&(l=a),rV(e,u,l)}},oe)}function cf(e,t,n,i,V,a,u){var l=MV(e,n),h=MV(t,n),q=u.get(h);if(q){rV(e,n,q);return}var g=a?a(l,h,n+"",e,t,u):r,p=g===r;if(p){var m=O(h),S=!m&&pt(h),E=!m&&!S&&Jt(h);g=h,m||S||E?O(l)?g=l:X(l)?g=ae(l):S?(p=!1,g=Ws(h,!0)):E?(p=!1,g=Gs(h,!0)):g=[]:yn(h)||Lt(h)?(g=l,Lt(l)?g=Da(l):(!z(l)||nt(l))&&(g=aa(h))):p=!1}p&&(u.set(h,g),V(g,h,i,a,u),u.delete(h)),rV(e,n,g)}function Rs(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,tt(t,n)?e[t]:r}function Ms(e,t,n){t.length?t=N(t,function(a){return O(a)?function(u){return xt(u,a.length===1?a[0]:a)}:a}):t=[le];var i=-1;t=N(t,he(y()));var V=Os(e,function(a,u,l){var h=N(t,function(q){return q(a)});return{criteria:h,index:++i,value:a}});return Fo(V,function(a,u){return xf(a,u,n)})}function qf(e,t){return Cs(e,t,function(n,i){return QV(e,i)})}function Cs(e,t,n){for(var i=-1,V=t.length,a={};++i<V;){var u=t[i],l=xt(e,u);n(l,u)&&wn(a,gt(u,e),l)}return a}function gf(e){return function(t){return xt(t,e)}}function cV(e,t,n,i){var V=i?Do:Ft,a=-1,u=t.length,l=e;for(e===t&&(t=ae(t)),n&&(l=N(e,he(n)));++a<u;)for(var h=0,q=t[a],g=n?n(q):q;(h=V(l,g,h,i))>-1;)l!==e&&Zn.call(l,h,1),Zn.call(e,h,1);return e}function Bs(e,t){for(var n=e?t.length:0,i=n-1;n--;){var V=t[n];if(n==i||V!==a){var a=V;tt(V)?Zn.call(e,V,1):pV(e,V)}}return e}function qV(e,t){return e+jn(cs()*(t-e+1))}function df(e,t,n,i){for(var V=-1,a=j(Jn((t-e)/(n||1)),0),u=A(a);a--;)u[i?a:++V]=e,e+=n;return u}function gV(e,t){var n="";if(!e||t<1||t>ot)return n;do t%2&&(n+=e),t=jn(t/2),t&&(e+=e);while(t);return n}function M(e,t){return CV(la(e,t,le),e+"")}function pf(e){return ds(jt(e))}function vf(e,t){var n=jt(e);return qi(n,It(t,0,n.length))}function wn(e,t,n,i){if(!z(e))return e;t=gt(t,e);for(var V=-1,a=t.length,u=a-1,l=e;l!=null&&++V<a;){var h=ze(t[V]),q=n;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(V!=u){var g=l[h];q=i?i(g,h,l):r,q===r&&(q=z(g)?g:tt(t[V+1])?[]:{})}gn(l,h,q),l=l[h]}return e}var bs=$n?function(e,t){return $n.set(e,t),e}:le,wf=Yn?function(e,t){return Yn(e,"toString",{configurable:!0,enumerable:!1,value:GV(t),writable:!0})}:le;function mf(e){return qi(jt(e))}function Ee(e,t,n){var i=-1,V=e.length;t<0&&(t=-t>V?0:V+t),n=n>V?V:n,n<0&&(n+=V),V=t>n?0:n-t>>>0,t>>>=0;for(var a=A(V);++i<V;)a[i]=e[i+t];return a}function _f(e,t){var n;return ct(e,function(i,V,a){return n=t(i,V,a),!n}),!!n}function si(e,t,n){var i=0,V=e==null?i:e.length;if(typeof t=="number"&&t===t&&V<=_u){for(;i<V;){var a=i+V>>>1,u=e[a];u!==null&&!ce(u)&&(n?u<=t:u<t)?i=a+1:V=a}return V}return dV(e,t,le,n)}function dV(e,t,n,i){var V=0,a=e==null?0:e.length;if(a===0)return 0;t=n(t);for(var u=t!==t,l=t===null,h=ce(t),q=t===r;V<a;){var g=jn((V+a)/2),p=n(e[g]),m=p!==r,S=p===null,E=p===p,R=ce(p);if(u)var I=i||E;else q?I=E&&(i||m):l?I=E&&m&&(i||!S):h?I=E&&m&&!S&&(i||!R):S||R?I=!1:I=i?p<=t:p<t;I?V=g+1:a=g}return ne(a,mu)}function Us(e,t){for(var n=-1,i=e.length,V=0,a=[];++n<i;){var u=e[n],l=t?t(u):u;if(!n||!Be(l,h)){var h=l;a[V++]=u===0?0:u}}return a}function ks(e){return typeof e=="number"?e:ce(e)?Rn:+e}function Ae(e){if(typeof e=="string")return e;if(O(e))return N(e,Ae)+"";if(ce(e))return qs?qs.call(e):"";var t=e+"";return t=="0"&&1/e==-mt?"-0":t}function qt(e,t,n){var i=-1,V=Dn,a=e.length,u=!0,l=[],h=l;if(n)u=!1,V=Hi;else if(a>=v){var q=t?null:Cf(e);if(q)return Qn(q);u=!1,V=ln,h=new Et}else h=t?[]:l;e:for(;++i<a;){var g=e[i],p=t?t(g):g;if(g=n||g!==0?g:0,u&&p===p){for(var m=h.length;m--;)if(h[m]===p)continue e;t&&h.push(p),l.push(g)}else V(h,p,n)||(h!==l&&h.push(p),l.push(g))}return l}function pV(e,t){return t=gt(t,e),e=fa(e,t),e==null||delete e[ze(Ie(t))]}function Ps(e,t,n,i){return wn(e,t,n(xt(e,t)),i)}function ai(e,t,n,i){for(var V=e.length,a=i?V:-1;(i?a--:++a<V)&&t(e[a],a,e););return n?Ee(e,i?0:a,i?a+1:V):Ee(e,i?a+1:0,i?V:a)}function Ds(e,t){var n=e;return n instanceof B&&(n=n.value()),Ki(t,function(i,V){return V.func.apply(V.thisArg,ft([i],V.args))},n)}function vV(e,t,n){var i=e.length;if(i<2)return i?qt(e[0]):[];for(var V=-1,a=A(i);++V<i;)for(var u=e[V],l=-1;++l<i;)l!=V&&(a[V]=dn(a[V]||u,e[l],t,n));return qt(te(a,1),t,n)}function Fs(e,t,n){for(var i=-1,V=e.length,a=t.length,u={};++i<V;){var l=i<a?t[i]:r;n(u,e[i],l)}return u}function wV(e){return X(e)?e:[]}function mV(e){return typeof e=="function"?e:le}function gt(e,t){return O(e)?e:LV(e,t)?[e]:qa(D(e))}var Sf=M;function dt(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:Ee(e,t,n)}var Qs=ol||function(e){return ee.clearTimeout(e)};function Ws(e,t){if(t)return e.slice();var n=e.length,i=os?os(n):new e.constructor(n);return e.copy(i),i}function _V(e){var t=new e.constructor(e.byteLength);return new Kn(t).set(new Kn(e)),t}function yf(e,t){var n=t?_V(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ef(e){var t=new e.constructor(e.source,Er.exec(e));return t.lastIndex=e.lastIndex,t}function If(e){return qn?Q(qn.call(e)):{}}function Gs(e,t){var n=t?_V(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ns(e,t){if(e!==t){var n=e!==r,i=e===null,V=e===e,a=ce(e),u=t!==r,l=t===null,h=t===t,q=ce(t);if(!l&&!q&&!a&&e>t||a&&u&&h&&!l&&!q||i&&u&&h||!n&&h||!V)return 1;if(!i&&!a&&!q&&e<t||q&&n&&V&&!i&&!a||l&&n&&V||!u&&V||!h)return-1}return 0}function xf(e,t,n){for(var i=-1,V=e.criteria,a=t.criteria,u=V.length,l=n.length;++i<u;){var h=Ns(V[i],a[i]);if(h){if(i>=l)return h;var q=n[i];return h*(q=="desc"?-1:1)}}return e.index-t.index}function zs(e,t,n,i){for(var V=-1,a=e.length,u=n.length,l=-1,h=t.length,q=j(a-u,0),g=A(h+q),p=!i;++l<h;)g[l]=t[l];for(;++V<u;)(p||V<a)&&(g[n[V]]=e[V]);for(;q--;)g[l++]=e[V++];return g}function Hs(e,t,n,i){for(var V=-1,a=e.length,u=-1,l=n.length,h=-1,q=t.length,g=j(a-l,0),p=A(g+q),m=!i;++V<g;)p[V]=e[V];for(var S=V;++h<q;)p[S+h]=t[h];for(;++u<l;)(m||V<a)&&(p[S+n[u]]=e[V++]);return p}function ae(e,t){var n=-1,i=e.length;for(t||(t=A(i));++n<i;)t[n]=e[n];return t}function Ne(e,t,n,i){var V=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var l=t[a],h=i?i(n[l],e[l],l,n,e):r;h===r&&(h=e[l]),V?je(n,l,h):gn(n,l,h)}return n}function Of(e,t){return Ne(e,TV(e),t)}function Tf(e,t){return Ne(e,ra(e),t)}function ui(e,t){return function(n,i){var V=O(n)?Co:Yl,a=t?t():{};return V(n,e,y(i,2),a)}}function Xt(e){return M(function(t,n){var i=-1,V=n.length,a=V>1?n[V-1]:r,u=V>2?n[2]:r;for(a=e.length>3&&typeof a=="function"?(V--,a):r,u&&re(n[0],n[1],u)&&(a=V<3?r:a,V=1),t=Q(t);++i<V;){var l=n[i];l&&e(t,l,i,a)}return t})}function Ks(e,t){return function(n,i){if(n==null)return n;if(!ue(n))return e(n,i);for(var V=n.length,a=t?V:-1,u=Q(n);(t?a--:++a<V)&&i(u[a],a,u)!==!1;);return n}}function Xs(e){return function(t,n,i){for(var V=-1,a=Q(t),u=i(t),l=u.length;l--;){var h=u[e?l:++V];if(n(a[h],h,a)===!1)break}return t}}function Lf(e,t,n){var i=t&ve,V=mn(e);function a(){var u=this&&this!==ee&&this instanceof a?V:e;return u.apply(i?n:this,arguments)}return a}function Zs(e){return function(t){t=D(t);var n=Qt(t)?Me(t):r,i=n?n[0]:t.charAt(0),V=n?dt(n,1).join(""):t.slice(1);return i[e]()+V}}function Zt(e){return function(t){return Ki(Ka(Ha(t).replace(vo,"")),e,"")}}function mn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Kt(e.prototype),i=e.apply(n,t);return z(i)?i:n}}function Rf(e,t,n){var i=mn(e);function V(){for(var a=arguments.length,u=A(a),l=a,h=Yt(V);l--;)u[l]=arguments[l];var q=a<3&&u[0]!==h&&u[a-1]!==h?[]:ht(u,h);if(a-=q.length,a<n)return ea(e,t,oi,V.placeholder,r,u,q,r,r,n-a);var g=this&&this!==ee&&this instanceof V?i:e;return fe(g,this,u)}return V}function Ys(e){return function(t,n,i){var V=Q(t);if(!ue(t)){var a=y(n,3);t=$(t),n=function(l){return a(V[l],l,V)}}var u=e(t,n,i);return u>-1?V[a?t[u]:u]:r}}function Js(e){return et(function(t){var n=t.length,i=n,V=Se.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if(typeof a!="function")throw new _e(T);if(V&&!u&&Ai(a)=="wrapper")var u=new Se([],!0)}for(i=u?i:n;++i<n;){a=t[i];var l=Ai(a),h=l=="wrapper"?xV(a):r;h&&RV(h[0])&&h[1]==(Xe|Fe|Qe|tn)&&!h[4].length&&h[9]==1?u=u[Ai(h[0])].apply(u,h[3]):u=a.length==1&&RV(a)?u[l]():u.thru(a)}return function(){var q=arguments,g=q[0];if(u&&q.length==1&&O(g))return u.plant(g).value();for(var p=0,m=n?t[p].apply(this,q):g;++p<n;)m=t[p].call(this,m);return m}})}function oi(e,t,n,i,V,a,u,l,h,q){var g=t&Xe,p=t&ve,m=t&wt,S=t&(Fe|bt),E=t&xi,R=m?r:mn(e);function I(){for(var C=arguments.length,U=A(C),qe=C;qe--;)U[qe]=arguments[qe];if(S)var se=Yt(I),ge=Wo(U,se);if(i&&(U=zs(U,i,V,S)),a&&(U=Hs(U,a,u,S)),C-=ge,S&&C<q){var Z=ht(U,se);return ea(e,t,oi,I.placeholder,n,U,Z,l,h,q-C)}var be=p?n:this,Vt=m?be[e]:e;return C=U.length,l?U=Jf(U,l):E&&C>1&&U.reverse(),g&&h<C&&(U.length=h),this&&this!==ee&&this instanceof I&&(Vt=R||mn(Vt)),Vt.apply(be,U)}return I}function js(e,t){return function(n,i){return rf(n,e,t(i),{})}}function li(e,t){return function(n,i){var V;if(n===r&&i===r)return t;if(n!==r&&(V=n),i!==r){if(V===r)return i;typeof n=="string"||typeof i=="string"?(n=Ae(n),i=Ae(i)):(n=ks(n),i=ks(i)),V=e(n,i)}return V}}function SV(e){return et(function(t){return t=N(t,he(y())),M(function(n){var i=this;return e(t,function(V){return fe(V,i,n)})})})}function fi(e,t){t=t===r?" ":Ae(t);var n=t.length;if(n<2)return n?gV(t,e):t;var i=gV(t,Jn(e/Wt(t)));return Qt(t)?dt(Me(i),0,e).join(""):i.slice(0,e)}function Mf(e,t,n,i){var V=t&ve,a=mn(e);function u(){for(var l=-1,h=arguments.length,q=-1,g=i.length,p=A(g+h),m=this&&this!==ee&&this instanceof u?a:e;++q<g;)p[q]=i[q];for(;h--;)p[q++]=arguments[++l];return fe(m,V?n:this,p)}return u}function $s(e){return function(t,n,i){return i&&typeof i!="number"&&re(t,n,i)&&(n=i=r),t=it(t),n===r?(n=t,t=0):n=it(n),i=i===r?t<n?1:-1:it(i),df(t,n,i,e)}}function hi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=xe(t),n=xe(n)),e(t,n)}}function ea(e,t,n,i,V,a,u,l,h,q){var g=t&Fe,p=g?u:r,m=g?r:u,S=g?a:r,E=g?r:a;t|=g?Qe:Ut,t&=~(g?Ut:Qe),t&pr||(t&=~(ve|wt));var R=[e,t,V,S,p,E,m,l,h,q],I=n.apply(r,R);return RV(e)&&ha(I,R),I.placeholder=i,Aa(I,e,t)}function yV(e){var t=J[e];return function(n,i){if(n=xe(n),i=i==null?0:ne(L(i),292),i&&As(n)){var V=(D(n)+"e").split("e"),a=t(V[0]+"e"+(+V[1]+i));return V=(D(a)+"e").split("e"),+(V[0]+"e"+(+V[1]-i))}return t(n)}}var Cf=zt&&1/Qn(new zt([,-0]))[1]==mt?function(e){return new zt(e)}:HV;function ta(e){return function(t){var n=ie(t);return n==Le?eV(t):n==Re?Zo(t):Qo(t,e(t))}}function $e(e,t,n,i,V,a,u,l){var h=t&wt;if(!h&&typeof e!="function")throw new _e(T);var q=i?i.length:0;if(q||(t&=~(Qe|Ut),i=V=r),u=u===r?u:j(L(u),0),l=l===r?l:L(l),q-=V?V.length:0,t&Ut){var g=i,p=V;i=V=r}var m=h?r:xV(e),S=[e,t,n,i,V,g,p,a,u,l];if(m&&Xf(S,m),e=S[0],t=S[1],n=S[2],i=S[3],V=S[4],l=S[9]=S[9]===r?h?0:e.length:j(S[9]-q,0),!l&&t&(Fe|bt)&&(t&=~(Fe|bt)),!t||t==ve)var E=Lf(e,t,n);else t==Fe||t==bt?E=Rf(e,t,l):(t==Qe||t==(ve|Qe))&&!V.length?E=Mf(e,t,n,i):E=oi.apply(r,S);var R=m?bs:ha;return Aa(R(E,S),e,t)}function na(e,t,n,i){return e===r||Be(e,Nt[n])&&!F.call(i,n)?t:e}function ia(e,t,n,i,V,a){return z(e)&&z(t)&&(a.set(t,e),ri(e,t,r,ia,a),a.delete(t)),e}function Bf(e){return yn(e)?r:e}function Va(e,t,n,i,V,a){var u=n&Bt,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var q=a.get(e),g=a.get(t);if(q&&g)return q==t&&g==e;var p=-1,m=!0,S=n&Ln?new Et:r;for(a.set(e,t),a.set(t,e);++p<l;){var E=e[p],R=t[p];if(i)var I=u?i(R,E,p,t,e,a):i(E,R,p,e,t,a);if(I!==r){if(I)continue;m=!1;break}if(S){if(!Xi(t,function(C,U){if(!ln(S,U)&&(E===C||V(E,C,n,i,a)))return S.push(U)})){m=!1;break}}else if(!(E===R||V(E,R,n,i,a))){m=!1;break}}return a.delete(e),a.delete(t),m}function bf(e,t,n,i,V,a,u){switch(n){case Pt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case on:return!(e.byteLength!=t.byteLength||!a(new Kn(e),new Kn(t)));case nn:case Vn:case rn:return Be(+e,+t);case Cn:return e.name==t.name&&e.message==t.message;case sn:case an:return e==t+"";case Le:var l=eV;case Re:var h=i&Bt;if(l||(l=Qn),e.size!=t.size&&!h)return!1;var q=u.get(e);if(q)return q==t;i|=Ln,u.set(e,t);var g=Va(l(e),l(t),i,V,a,u);return u.delete(e),g;case bn:if(qn)return qn.call(e)==qn.call(t)}return!1}function Uf(e,t,n,i,V,a){var u=n&Bt,l=EV(e),h=l.length,q=EV(t),g=q.length;if(h!=g&&!u)return!1;for(var p=h;p--;){var m=l[p];if(!(u?m in t:F.call(t,m)))return!1}var S=a.get(e),E=a.get(t);if(S&&E)return S==t&&E==e;var R=!0;a.set(e,t),a.set(t,e);for(var I=u;++p<h;){m=l[p];var C=e[m],U=t[m];if(i)var qe=u?i(U,C,m,t,e,a):i(C,U,m,e,t,a);if(!(qe===r?C===U||V(C,U,n,i,a):qe)){R=!1;break}I||(I=m=="constructor")}if(R&&!I){var se=e.constructor,ge=t.constructor;se!=ge&&"constructor"in e&&"constructor"in t&&!(typeof se=="function"&&se instanceof se&&typeof ge=="function"&&ge instanceof ge)&&(R=!1)}return a.delete(e),a.delete(t),R}function et(e){return CV(la(e,r,va),e+"")}function EV(e){return ys(e,$,TV)}function IV(e){return ys(e,oe,ra)}var xV=$n?function(e){return $n.get(e)}:HV;function Ai(e){for(var t=e.name+"",n=Ht[t],i=F.call(Ht,t)?n.length:0;i--;){var V=n[i],a=V.func;if(a==null||a==e)return V.name}return t}function Yt(e){var t=F.call(s,"placeholder")?s:e;return t.placeholder}function y(){var e=s.iteratee||NV;return e=e===NV?xs:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return Nf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function OV(e){for(var t=$(e),n=t.length;n--;){var i=t[n],V=e[i];t[n]=[i,V,ua(V)]}return t}function Ot(e,t){var n=Ho(e,t);return Is(n)?n:r}function kf(e){var t=F.call(e,St),n=e[St];try{e[St]=r;var i=!0}catch{}var V=zn.call(e);return i&&(t?e[St]=n:delete e[St]),V}var TV=nV?function(e){return e==null?[]:(e=Q(e),lt(nV(e),function(t){return fs.call(e,t)}))}:KV,ra=nV?function(e){for(var t=[];e;)ft(t,TV(e)),e=Xn(e);return t}:KV,ie=Ve;(iV&&ie(new iV(new ArrayBuffer(1)))!=Pt||hn&&ie(new hn)!=Le||VV&&ie(VV.resolve())!=mr||zt&&ie(new zt)!=Re||An&&ie(new An)!=un)&&(ie=function(e){var t=Ve(e),n=t==Ze?e.constructor:r,i=n?Tt(n):"";if(i)switch(i){case pl:return Pt;case vl:return Le;case wl:return mr;case ml:return Re;case _l:return un}return t});function Pf(e,t,n){for(var i=-1,V=n.length;++i<V;){var a=n[i],u=a.size;switch(a.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=ne(t,e+u);break;case"takeRight":e=j(e,t-u);break}}return{start:e,end:t}}function Df(e){var t=e.match(Gu);return t?t[1].split(Nu):[]}function sa(e,t,n){t=gt(t,e);for(var i=-1,V=t.length,a=!1;++i<V;){var u=ze(t[i]);if(!(a=e!=null&&n(e,u)))break;e=e[u]}return a||++i!=V?a:(V=e==null?0:e.length,!!V&&mi(V)&&tt(u,V)&&(O(e)||Lt(e)))}function Ff(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&F.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function aa(e){return typeof e.constructor=="function"&&!_n(e)?Kt(Xn(e)):{}}function Qf(e,t,n){var i=e.constructor;switch(t){case on:return _V(e);case nn:case Vn:return new i(+e);case Pt:return yf(e,n);case Oi:case Ti:case Li:case Ri:case Mi:case Ci:case Bi:case bi:case Ui:return Gs(e,n);case Le:return new i;case rn:case an:return new i(e);case sn:return Ef(e);case Re:return new i;case bn:return If(e)}}function Wf(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Wu,`{
/* [wrapped with `+t+`] */
`)}function Gf(e){return O(e)||Lt(e)||!!(hs&&e&&e[hs])}function tt(e,t){var n=typeof e;return t=t==null?ot:t,!!t&&(n=="number"||n!="symbol"&&$u.test(e))&&e>-1&&e%1==0&&e<t}function re(e,t,n){if(!z(n))return!1;var i=typeof t;return(i=="number"?ue(n)&&tt(t,n.length):i=="string"&&t in n)?Be(n[t],e):!1}function LV(e,t){if(O(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ce(e)?!0:Pu.test(e)||!ku.test(e)||t!=null&&e in Q(t)}function Nf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function RV(e){var t=Ai(e),n=s[t];if(typeof n!="function"||!(t in B.prototype))return!1;if(e===n)return!0;var i=xV(n);return!!i&&e===i[0]}function zf(e){return!!us&&us in e}var Hf=Gn?nt:XV;function _n(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Nt;return e===n}function ua(e){return e===e&&!z(e)}function oa(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==r||e in Q(n))}}function Kf(e){var t=vi(e,function(i){return n.size===On&&n.clear(),i}),n=t.cache;return t}function Xf(e,t){var n=e[1],i=t[1],V=n|i,a=V<(ve|wt|Xe),u=i==Xe&&n==Fe||i==Xe&&n==tn&&e[7].length<=t[8]||i==(Xe|tn)&&t[7].length<=t[8]&&n==Fe;if(!(a||u))return e;i&ve&&(e[2]=t[2],V|=n&ve?0:pr);var l=t[3];if(l){var h=e[3];e[3]=h?zs(h,l,t[4]):l,e[4]=h?ht(e[3],Tn):t[4]}return l=t[5],l&&(h=e[5],e[5]=h?Hs(h,l,t[6]):l,e[6]=h?ht(e[5],Tn):t[6]),l=t[7],l&&(e[7]=l),i&Xe&&(e[8]=e[8]==null?t[8]:ne(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=V,e}function Zf(e){var t=[];if(e!=null)for(var n in Q(e))t.push(n);return t}function Yf(e){return zn.call(e)}function la(e,t,n){return t=j(t===r?e.length-1:t,0),function(){for(var i=arguments,V=-1,a=j(i.length-t,0),u=A(a);++V<a;)u[V]=i[t+V];V=-1;for(var l=A(t+1);++V<t;)l[V]=i[V];return l[t]=n(u),fe(e,this,l)}}function fa(e,t){return t.length<2?e:xt(e,Ee(t,0,-1))}function Jf(e,t){for(var n=e.length,i=ne(t.length,n),V=ae(e);i--;){var a=t[i];e[i]=tt(a,n)?V[a]:r}return e}function MV(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ha=ca(bs),Sn=fl||function(e,t){return ee.setTimeout(e,t)},CV=ca(wf);function Aa(e,t,n){var i=t+"";return CV(e,Wf(i,jf(Df(i),n)))}function ca(e){var t=0,n=0;return function(){var i=ql(),V=du-(i-n);if(n=i,V>0){if(++t>=gu)return arguments[0]}else t=0;return e.apply(r,arguments)}}function qi(e,t){var n=-1,i=e.length,V=i-1;for(t=t===r?i:t;++n<t;){var a=qV(n,V),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var qa=Kf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Du,function(n,i,V,a){t.push(V?a.replace(Ku,"$1"):i||n)}),t});function ze(e){if(typeof e=="string"||ce(e))return e;var t=e+"";return t=="0"&&1/e==-mt?"-0":t}function Tt(e){if(e!=null){try{return Nn.call(e)}catch{}try{return e+""}catch{}}return""}function jf(e,t){return me(Su,function(n){var i="_."+n[0];t&n[1]&&!Dn(e,i)&&e.push(i)}),e.sort()}function ga(e){if(e instanceof B)return e.clone();var t=new Se(e.__wrapped__,e.__chain__);return t.__actions__=ae(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function $f(e,t,n){(n?re(e,t,n):t===r)?t=1:t=j(L(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var V=0,a=0,u=A(Jn(i/t));V<i;)u[a++]=Ee(e,V,V+=t);return u}function eh(e){for(var t=-1,n=e==null?0:e.length,i=0,V=[];++t<n;){var a=e[t];a&&(V[i++]=a)}return V}function th(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ft(O(n)?ae(n):[n],te(t,1))}var nh=M(function(e,t){return X(e)?dn(e,te(t,1,X,!0)):[]}),ih=M(function(e,t){var n=Ie(t);return X(n)&&(n=r),X(e)?dn(e,te(t,1,X,!0),y(n,2)):[]}),Vh=M(function(e,t){var n=Ie(t);return X(n)&&(n=r),X(e)?dn(e,te(t,1,X,!0),r,n):[]});function rh(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:L(t),Ee(e,t<0?0:t,i)):[]}function sh(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:L(t),t=i-t,Ee(e,0,t<0?0:t)):[]}function ah(e,t){return e&&e.length?ai(e,y(t,3),!0,!0):[]}function uh(e,t){return e&&e.length?ai(e,y(t,3),!0):[]}function oh(e,t,n,i){var V=e==null?0:e.length;return V?(n&&typeof n!="number"&&re(e,t,n)&&(n=0,i=V),ef(e,t,n,i)):[]}function da(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var V=n==null?0:L(n);return V<0&&(V=j(i+V,0)),Fn(e,y(t,3),V)}function pa(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var V=i-1;return n!==r&&(V=L(n),V=n<0?j(i+V,0):ne(V,i-1)),Fn(e,y(t,3),V,!0)}function va(e){var t=e==null?0:e.length;return t?te(e,1):[]}function lh(e){var t=e==null?0:e.length;return t?te(e,mt):[]}function fh(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:L(t),te(e,t)):[]}function hh(e){for(var t=-1,n=e==null?0:e.length,i={};++t<n;){var V=e[t];i[V[0]]=V[1]}return i}function wa(e){return e&&e.length?e[0]:r}function Ah(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var V=n==null?0:L(n);return V<0&&(V=j(i+V,0)),Ft(e,t,V)}function ch(e){var t=e==null?0:e.length;return t?Ee(e,0,-1):[]}var qh=M(function(e){var t=N(e,wV);return t.length&&t[0]===e[0]?lV(t):[]}),gh=M(function(e){var t=Ie(e),n=N(e,wV);return t===Ie(n)?t=r:n.pop(),n.length&&n[0]===e[0]?lV(n,y(t,2)):[]}),dh=M(function(e){var t=Ie(e),n=N(e,wV);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?lV(n,r,t):[]});function ph(e,t){return e==null?"":Al.call(e,t)}function Ie(e){var t=e==null?0:e.length;return t?e[t-1]:r}function vh(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var V=i;return n!==r&&(V=L(n),V=V<0?j(i+V,0):ne(V,i-1)),t===t?Jo(e,t,V):Fn(e,es,V,!0)}function wh(e,t){return e&&e.length?Rs(e,L(t)):r}var mh=M(ma);function ma(e,t){return e&&e.length&&t&&t.length?cV(e,t):e}function _h(e,t,n){return e&&e.length&&t&&t.length?cV(e,t,y(n,2)):e}function Sh(e,t,n){return e&&e.length&&t&&t.length?cV(e,t,r,n):e}var yh=et(function(e,t){var n=e==null?0:e.length,i=sV(e,t);return Bs(e,N(t,function(V){return tt(V,n)?+V:V}).sort(Ns)),i});function Eh(e,t){var n=[];if(!(e&&e.length))return n;var i=-1,V=[],a=e.length;for(t=y(t,3);++i<a;){var u=e[i];t(u,i,e)&&(n.push(u),V.push(i))}return Bs(e,V),n}function BV(e){return e==null?e:dl.call(e)}function Ih(e,t,n){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&re(e,t,n)?(t=0,n=i):(t=t==null?0:L(t),n=n===r?i:L(n)),Ee(e,t,n)):[]}function xh(e,t){return si(e,t)}function Oh(e,t,n){return dV(e,t,y(n,2))}function Th(e,t){var n=e==null?0:e.length;if(n){var i=si(e,t);if(i<n&&Be(e[i],t))return i}return-1}function Lh(e,t){return si(e,t,!0)}function Rh(e,t,n){return dV(e,t,y(n,2),!0)}function Mh(e,t){var n=e==null?0:e.length;if(n){var i=si(e,t,!0)-1;if(Be(e[i],t))return i}return-1}function Ch(e){return e&&e.length?Us(e):[]}function Bh(e,t){return e&&e.length?Us(e,y(t,2)):[]}function bh(e){var t=e==null?0:e.length;return t?Ee(e,1,t):[]}function Uh(e,t,n){return e&&e.length?(t=n||t===r?1:L(t),Ee(e,0,t<0?0:t)):[]}function kh(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:L(t),t=i-t,Ee(e,t<0?0:t,i)):[]}function Ph(e,t){return e&&e.length?ai(e,y(t,3),!1,!0):[]}function Dh(e,t){return e&&e.length?ai(e,y(t,3)):[]}var Fh=M(function(e){return qt(te(e,1,X,!0))}),Qh=M(function(e){var t=Ie(e);return X(t)&&(t=r),qt(te(e,1,X,!0),y(t,2))}),Wh=M(function(e){var t=Ie(e);return t=typeof t=="function"?t:r,qt(te(e,1,X,!0),r,t)});function Gh(e){return e&&e.length?qt(e):[]}function Nh(e,t){return e&&e.length?qt(e,y(t,2)):[]}function zh(e,t){return t=typeof t=="function"?t:r,e&&e.length?qt(e,r,t):[]}function bV(e){if(!(e&&e.length))return[];var t=0;return e=lt(e,function(n){if(X(n))return t=j(n.length,t),!0}),ji(t,function(n){return N(e,Zi(n))})}function _a(e,t){if(!(e&&e.length))return[];var n=bV(e);return t==null?n:N(n,function(i){return fe(t,r,i)})}var Hh=M(function(e,t){return X(e)?dn(e,t):[]}),Kh=M(function(e){return vV(lt(e,X))}),Xh=M(function(e){var t=Ie(e);return X(t)&&(t=r),vV(lt(e,X),y(t,2))}),Zh=M(function(e){var t=Ie(e);return t=typeof t=="function"?t:r,vV(lt(e,X),r,t)}),Yh=M(bV);function Jh(e,t){return Fs(e||[],t||[],gn)}function jh(e,t){return Fs(e||[],t||[],wn)}var $h=M(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,_a(e,n)});function Sa(e){var t=s(e);return t.__chain__=!0,t}function eA(e,t){return t(e),e}function gi(e,t){return t(e)}var tA=et(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,V=function(a){return sV(a,e)};return t>1||this.__actions__.length||!(i instanceof B)||!tt(n)?this.thru(V):(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:gi,args:[V],thisArg:r}),new Se(i,this.__chain__).thru(function(a){return t&&!a.length&&a.push(r),a}))});function nA(){return Sa(this)}function iA(){return new Se(this.value(),this.__chain__)}function VA(){this.__values__===r&&(this.__values__=ka(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function rA(){return this}function sA(e){for(var t,n=this;n instanceof ti;){var i=ga(n);i.__index__=0,i.__values__=r,t?V.__wrapped__=i:t=i;var V=i;n=n.__wrapped__}return V.__wrapped__=e,t}function aA(){var e=this.__wrapped__;if(e instanceof B){var t=e;return this.__actions__.length&&(t=new B(this)),t=t.reverse(),t.__actions__.push({func:gi,args:[BV],thisArg:r}),new Se(t,this.__chain__)}return this.thru(BV)}function uA(){return Ds(this.__wrapped__,this.__actions__)}var oA=ui(function(e,t,n){F.call(e,n)?++e[n]:je(e,n,1)});function lA(e,t,n){var i=O(e)?jr:$l;return n&&re(e,t,n)&&(t=r),i(e,y(t,3))}function fA(e,t){var n=O(e)?lt:_s;return n(e,y(t,3))}var hA=Ys(da),AA=Ys(pa);function cA(e,t){return te(di(e,t),1)}function qA(e,t){return te(di(e,t),mt)}function gA(e,t,n){return n=n===r?1:L(n),te(di(e,t),n)}function ya(e,t){var n=O(e)?me:ct;return n(e,y(t,3))}function Ea(e,t){var n=O(e)?Bo:ms;return n(e,y(t,3))}var dA=ui(function(e,t,n){F.call(e,n)?e[n].push(t):je(e,n,[t])});function pA(e,t,n,i){e=ue(e)?e:jt(e),n=n&&!i?L(n):0;var V=e.length;return n<0&&(n=j(V+n,0)),_i(e)?n<=V&&e.indexOf(t,n)>-1:!!V&&Ft(e,t,n)>-1}var vA=M(function(e,t,n){var i=-1,V=typeof t=="function",a=ue(e)?A(e.length):[];return ct(e,function(u){a[++i]=V?fe(t,u,n):pn(u,t,n)}),a}),wA=ui(function(e,t,n){je(e,n,t)});function di(e,t){var n=O(e)?N:Os;return n(e,y(t,3))}function mA(e,t,n,i){return e==null?[]:(O(t)||(t=t==null?[]:[t]),n=i?r:n,O(n)||(n=n==null?[]:[n]),Ms(e,t,n))}var _A=ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function SA(e,t,n){var i=O(e)?Ki:ns,V=arguments.length<3;return i(e,y(t,4),n,V,ct)}function yA(e,t,n){var i=O(e)?bo:ns,V=arguments.length<3;return i(e,y(t,4),n,V,ms)}function EA(e,t){var n=O(e)?lt:_s;return n(e,wi(y(t,3)))}function IA(e){var t=O(e)?ds:pf;return t(e)}function xA(e,t,n){(n?re(e,t,n):t===r)?t=1:t=L(t);var i=O(e)?Xl:vf;return i(e,t)}function OA(e){var t=O(e)?Zl:mf;return t(e)}function TA(e){if(e==null)return 0;if(ue(e))return _i(e)?Wt(e):e.length;var t=ie(e);return t==Le||t==Re?e.size:hV(e).length}function LA(e,t,n){var i=O(e)?Xi:_f;return n&&re(e,t,n)&&(t=r),i(e,y(t,3))}var RA=M(function(e,t){if(e==null)return[];var n=t.length;return n>1&&re(e,t[0],t[1])?t=[]:n>2&&re(t[0],t[1],t[2])&&(t=[t[0]]),Ms(e,te(t,1),[])}),pi=ll||function(){return ee.Date.now()};function MA(e,t){if(typeof t!="function")throw new _e(T);return e=L(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ia(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,$e(e,Xe,r,r,r,r,t)}function xa(e,t){var n;if(typeof t!="function")throw new _e(T);return e=L(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var UV=M(function(e,t,n){var i=ve;if(n.length){var V=ht(n,Yt(UV));i|=Qe}return $e(e,i,t,n,V)}),Oa=M(function(e,t,n){var i=ve|wt;if(n.length){var V=ht(n,Yt(Oa));i|=Qe}return $e(t,i,e,n,V)});function Ta(e,t,n){t=n?r:t;var i=$e(e,Fe,r,r,r,r,r,t);return i.placeholder=Ta.placeholder,i}function La(e,t,n){t=n?r:t;var i=$e(e,bt,r,r,r,r,r,t);return i.placeholder=La.placeholder,i}function Ra(e,t,n){var i,V,a,u,l,h,q=0,g=!1,p=!1,m=!0;if(typeof e!="function")throw new _e(T);t=xe(t)||0,z(n)&&(g=!!n.leading,p="maxWait"in n,a=p?j(xe(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function S(Z){var be=i,Vt=V;return i=V=r,q=Z,u=e.apply(Vt,be),u}function E(Z){return q=Z,l=Sn(C,t),g?S(Z):u}function R(Z){var be=Z-h,Vt=Z-q,Ya=t-be;return p?ne(Ya,a-Vt):Ya}function I(Z){var be=Z-h,Vt=Z-q;return h===r||be>=t||be<0||p&&Vt>=a}function C(){var Z=pi();if(I(Z))return U(Z);l=Sn(C,R(Z))}function U(Z){return l=r,m&&i?S(Z):(i=V=r,u)}function qe(){l!==r&&Qs(l),q=0,i=h=V=l=r}function se(){return l===r?u:U(pi())}function ge(){var Z=pi(),be=I(Z);if(i=arguments,V=this,h=Z,be){if(l===r)return E(h);if(p)return Qs(l),l=Sn(C,t),S(h)}return l===r&&(l=Sn(C,t)),u}return ge.cancel=qe,ge.flush=se,ge}var CA=M(function(e,t){return ws(e,1,t)}),BA=M(function(e,t,n){return ws(e,xe(t)||0,n)});function bA(e){return $e(e,xi)}function vi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new _e(T);var n=function(){var i=arguments,V=t?t.apply(this,i):i[0],a=n.cache;if(a.has(V))return a.get(V);var u=e.apply(this,i);return n.cache=a.set(V,u)||a,u};return n.cache=new(vi.Cache||Je),n}vi.Cache=Je;function wi(e){if(typeof e!="function")throw new _e(T);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function UA(e){return xa(2,e)}var kA=Sf(function(e,t){t=t.length==1&&O(t[0])?N(t[0],he(y())):N(te(t,1),he(y()));var n=t.length;return M(function(i){for(var V=-1,a=ne(i.length,n);++V<a;)i[V]=t[V].call(this,i[V]);return fe(e,this,i)})}),kV=M(function(e,t){var n=ht(t,Yt(kV));return $e(e,Qe,r,t,n)}),Ma=M(function(e,t){var n=ht(t,Yt(Ma));return $e(e,Ut,r,t,n)}),PA=et(function(e,t){return $e(e,tn,r,r,r,t)});function DA(e,t){if(typeof e!="function")throw new _e(T);return t=t===r?t:L(t),M(e,t)}function FA(e,t){if(typeof e!="function")throw new _e(T);return t=t==null?0:j(L(t),0),M(function(n){var i=n[t],V=dt(n,0,t);return i&&ft(V,i),fe(e,this,V)})}function QA(e,t,n){var i=!0,V=!0;if(typeof e!="function")throw new _e(T);return z(n)&&(i="leading"in n?!!n.leading:i,V="trailing"in n?!!n.trailing:V),Ra(e,t,{leading:i,maxWait:t,trailing:V})}function WA(e){return Ia(e,1)}function GA(e,t){return kV(mV(t),e)}function NA(){if(!arguments.length)return[];var e=arguments[0];return O(e)?e:[e]}function zA(e){return ye(e,Ct)}function HA(e,t){return t=typeof t=="function"?t:r,ye(e,Ct,t)}function KA(e){return ye(e,ut|Ct)}function XA(e,t){return t=typeof t=="function"?t:r,ye(e,ut|Ct,t)}function ZA(e,t){return t==null||vs(e,t,$(t))}function Be(e,t){return e===t||e!==e&&t!==t}var YA=hi(oV),JA=hi(function(e,t){return e>=t}),Lt=Es(function(){return arguments}())?Es:function(e){return K(e)&&F.call(e,"callee")&&!fs.call(e,"callee")},O=A.isArray,jA=Hr?he(Hr):sf;function ue(e){return e!=null&&mi(e.length)&&!nt(e)}function X(e){return K(e)&&ue(e)}function $A(e){return e===!0||e===!1||K(e)&&Ve(e)==nn}var pt=hl||XV,ec=Kr?he(Kr):af;function tc(e){return K(e)&&e.nodeType===1&&!yn(e)}function nc(e){if(e==null)return!0;if(ue(e)&&(O(e)||typeof e=="string"||typeof e.splice=="function"||pt(e)||Jt(e)||Lt(e)))return!e.length;var t=ie(e);if(t==Le||t==Re)return!e.size;if(_n(e))return!hV(e).length;for(var n in e)if(F.call(e,n))return!1;return!0}function ic(e,t){return vn(e,t)}function Vc(e,t,n){n=typeof n=="function"?n:r;var i=n?n(e,t):r;return i===r?vn(e,t,r,n):!!i}function PV(e){if(!K(e))return!1;var t=Ve(e);return t==Cn||t==Eu||typeof e.message=="string"&&typeof e.name=="string"&&!yn(e)}function rc(e){return typeof e=="number"&&As(e)}function nt(e){if(!z(e))return!1;var t=Ve(e);return t==Bn||t==wr||t==yu||t==xu}function Ca(e){return typeof e=="number"&&e==L(e)}function mi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ot}function z(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function K(e){return e!=null&&typeof e=="object"}var Ba=Xr?he(Xr):of;function sc(e,t){return e===t||fV(e,t,OV(t))}function ac(e,t,n){return n=typeof n=="function"?n:r,fV(e,t,OV(t),n)}function uc(e){return ba(e)&&e!=+e}function oc(e){if(Hf(e))throw new x(k);return Is(e)}function lc(e){return e===null}function fc(e){return e==null}function ba(e){return typeof e=="number"||K(e)&&Ve(e)==rn}function yn(e){if(!K(e)||Ve(e)!=Ze)return!1;var t=Xn(e);if(t===null)return!0;var n=F.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Nn.call(n)==sl}var DV=Zr?he(Zr):lf;function hc(e){return Ca(e)&&e>=-ot&&e<=ot}var Ua=Yr?he(Yr):ff;function _i(e){return typeof e=="string"||!O(e)&&K(e)&&Ve(e)==an}function ce(e){return typeof e=="symbol"||K(e)&&Ve(e)==bn}var Jt=Jr?he(Jr):hf;function Ac(e){return e===r}function cc(e){return K(e)&&ie(e)==un}function qc(e){return K(e)&&Ve(e)==Tu}var gc=hi(AV),dc=hi(function(e,t){return e<=t});function ka(e){if(!e)return[];if(ue(e))return _i(e)?Me(e):ae(e);if(fn&&e[fn])return Xo(e[fn]());var t=ie(e),n=t==Le?eV:t==Re?Qn:jt;return n(e)}function it(e){if(!e)return e===0?e:0;if(e=xe(e),e===mt||e===-mt){var t=e<0?-1:1;return t*wu}return e===e?e:0}function L(e){var t=it(e),n=t%1;return t===t?n?t-n:t:0}function Pa(e){return e?It(L(e),0,We):0}function xe(e){if(typeof e=="number")return e;if(ce(e))return Rn;if(z(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=is(e);var n=Yu.test(e);return n||ju.test(e)?Ro(e.slice(2),n?2:8):Zu.test(e)?Rn:+e}function Da(e){return Ne(e,oe(e))}function pc(e){return e?It(L(e),-ot,ot):e===0?e:0}function D(e){return e==null?"":Ae(e)}var vc=Xt(function(e,t){if(_n(t)||ue(t)){Ne(t,$(t),e);return}for(var n in t)F.call(t,n)&&gn(e,n,t[n])}),Fa=Xt(function(e,t){Ne(t,oe(t),e)}),Si=Xt(function(e,t,n,i){Ne(t,oe(t),e,i)}),wc=Xt(function(e,t,n,i){Ne(t,$(t),e,i)}),mc=et(sV);function _c(e,t){var n=Kt(e);return t==null?n:ps(n,t)}var Sc=M(function(e,t){e=Q(e);var n=-1,i=t.length,V=i>2?t[2]:r;for(V&&re(t[0],t[1],V)&&(i=1);++n<i;)for(var a=t[n],u=oe(a),l=-1,h=u.length;++l<h;){var q=u[l],g=e[q];(g===r||Be(g,Nt[q])&&!F.call(e,q))&&(e[q]=a[q])}return e}),yc=M(function(e){return e.push(r,ia),fe(Qa,r,e)});function Ec(e,t){return $r(e,y(t,3),Ge)}function Ic(e,t){return $r(e,y(t,3),uV)}function xc(e,t){return e==null?e:aV(e,y(t,3),oe)}function Oc(e,t){return e==null?e:Ss(e,y(t,3),oe)}function Tc(e,t){return e&&Ge(e,y(t,3))}function Lc(e,t){return e&&uV(e,y(t,3))}function Rc(e){return e==null?[]:Vi(e,$(e))}function Mc(e){return e==null?[]:Vi(e,oe(e))}function FV(e,t,n){var i=e==null?r:xt(e,t);return i===r?n:i}function Cc(e,t){return e!=null&&sa(e,t,tf)}function QV(e,t){return e!=null&&sa(e,t,nf)}var Bc=js(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=zn.call(t)),e[t]=n},GV(le)),bc=js(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=zn.call(t)),F.call(e,t)?e[t].push(n):e[t]=[n]},y),Uc=M(pn);function $(e){return ue(e)?gs(e):hV(e)}function oe(e){return ue(e)?gs(e,!0):Af(e)}function kc(e,t){var n={};return t=y(t,3),Ge(e,function(i,V,a){je(n,t(i,V,a),i)}),n}function Pc(e,t){var n={};return t=y(t,3),Ge(e,function(i,V,a){je(n,V,t(i,V,a))}),n}var Dc=Xt(function(e,t,n){ri(e,t,n)}),Qa=Xt(function(e,t,n,i){ri(e,t,n,i)}),Fc=et(function(e,t){var n={};if(e==null)return n;var i=!1;t=N(t,function(a){return a=gt(a,e),i||(i=a.length>1),a}),Ne(e,IV(e),n),i&&(n=ye(n,ut|dr|Ct,Bf));for(var V=t.length;V--;)pV(n,t[V]);return n});function Qc(e,t){return Wa(e,wi(y(t)))}var Wc=et(function(e,t){return e==null?{}:qf(e,t)});function Wa(e,t){if(e==null)return{};var n=N(IV(e),function(i){return[i]});return t=y(t),Cs(e,n,function(i,V){return t(i,V[0])})}function Gc(e,t,n){t=gt(t,e);var i=-1,V=t.length;for(V||(V=1,e=r);++i<V;){var a=e==null?r:e[ze(t[i])];a===r&&(i=V,a=n),e=nt(a)?a.call(e):a}return e}function Nc(e,t,n){return e==null?e:wn(e,t,n)}function zc(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:wn(e,t,n,i)}var Ga=ta($),Na=ta(oe);function Hc(e,t,n){var i=O(e),V=i||pt(e)||Jt(e);if(t=y(t,4),n==null){var a=e&&e.constructor;V?n=i?new a:[]:z(e)?n=nt(a)?Kt(Xn(e)):{}:n={}}return(V?me:Ge)(e,function(u,l,h){return t(n,u,l,h)}),n}function Kc(e,t){return e==null?!0:pV(e,t)}function Xc(e,t,n){return e==null?e:Ps(e,t,mV(n))}function Zc(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:Ps(e,t,mV(n),i)}function jt(e){return e==null?[]:$i(e,$(e))}function Yc(e){return e==null?[]:$i(e,oe(e))}function Jc(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=xe(n),n=n===n?n:0),t!==r&&(t=xe(t),t=t===t?t:0),It(xe(e),t,n)}function jc(e,t,n){return t=it(t),n===r?(n=t,t=0):n=it(n),e=xe(e),Vf(e,t,n)}function $c(e,t,n){if(n&&typeof n!="boolean"&&re(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=it(e),t===r?(t=e,e=0):t=it(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var V=cs();return ne(e+V*(t-e+Lo("1e-"+((V+"").length-1))),t)}return qV(e,t)}var eq=Zt(function(e,t,n){return t=t.toLowerCase(),e+(n?za(t):t)});function za(e){return WV(D(e).toLowerCase())}function Ha(e){return e=D(e),e&&e.replace(eo,Go).replace(wo,"")}function tq(e,t,n){e=D(e),t=Ae(t);var i=e.length;n=n===r?i:It(L(n),0,i);var V=n;return n-=t.length,n>=0&&e.slice(n,V)==t}function nq(e){return e=D(e),e&&Bu.test(e)?e.replace(Sr,No):e}function iq(e){return e=D(e),e&&Fu.test(e)?e.replace(ki,"\\$&"):e}var Vq=Zt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),rq=Zt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sq=Zs("toLowerCase");function aq(e,t,n){e=D(e),t=L(t);var i=t?Wt(e):0;if(!t||i>=t)return e;var V=(t-i)/2;return fi(jn(V),n)+e+fi(Jn(V),n)}function uq(e,t,n){e=D(e),t=L(t);var i=t?Wt(e):0;return t&&i<t?e+fi(t-i,n):e}function oq(e,t,n){e=D(e),t=L(t);var i=t?Wt(e):0;return t&&i<t?fi(t-i,n)+e:e}function lq(e,t,n){return n||t==null?t=0:t&&(t=+t),gl(D(e).replace(Pi,""),t||0)}function fq(e,t,n){return(n?re(e,t,n):t===r)?t=1:t=L(t),gV(D(e),t)}function hq(){var e=arguments,t=D(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Aq=Zt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function cq(e,t,n){return n&&typeof n!="number"&&re(e,t,n)&&(t=n=r),n=n===r?We:n>>>0,n?(e=D(e),e&&(typeof t=="string"||t!=null&&!DV(t))&&(t=Ae(t),!t&&Qt(e))?dt(Me(e),0,n):e.split(t,n)):[]}var qq=Zt(function(e,t,n){return e+(n?" ":"")+WV(t)});function gq(e,t,n){return e=D(e),n=n==null?0:It(L(n),0,e.length),t=Ae(t),e.slice(n,n+t.length)==t}function dq(e,t,n){var i=s.templateSettings;n&&re(e,t,n)&&(t=r),e=D(e),t=Si({},t,i,na);var V=Si({},t.imports,i.imports,na),a=$(V),u=$i(V,a),l,h,q=0,g=t.interpolate||Un,p="__p += '",m=tV((t.escape||Un).source+"|"+g.source+"|"+(g===yr?Xu:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),S="//# sourceURL="+(F.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Eo+"]")+`
`;e.replace(m,function(I,C,U,qe,se,ge){return U||(U=qe),p+=e.slice(q,ge).replace(to,zo),C&&(l=!0,p+=`' +
__e(`+C+`) +
'`),se&&(h=!0,p+=`';
`+se+`;
__p += '`),U&&(p+=`' +
((__t = (`+U+`)) == null ? '' : __t) +
'`),q=ge+I.length,I}),p+=`';
`;var E=F.call(t,"variable")&&t.variable;if(!E)p=`with (obj) {
`+p+`
}
`;else if(Hu.test(E))throw new x(xn);p=(h?p.replace(Lu,""):p).replace(Ru,"$1").replace(Mu,"$1;"),p="function("+(E||"obj")+`) {
`+(E?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+p+`return __p
}`;var R=Xa(function(){return P(a,S+"return "+p).apply(r,u)});if(R.source=p,PV(R))throw R;return R}function pq(e){return D(e).toLowerCase()}function vq(e){return D(e).toUpperCase()}function wq(e,t,n){if(e=D(e),e&&(n||t===r))return is(e);if(!e||!(t=Ae(t)))return e;var i=Me(e),V=Me(t),a=Vs(i,V),u=rs(i,V)+1;return dt(i,a,u).join("")}function mq(e,t,n){if(e=D(e),e&&(n||t===r))return e.slice(0,as(e)+1);if(!e||!(t=Ae(t)))return e;var i=Me(e),V=rs(i,Me(t))+1;return dt(i,0,V).join("")}function _q(e,t,n){if(e=D(e),e&&(n||t===r))return e.replace(Pi,"");if(!e||!(t=Ae(t)))return e;var i=Me(e),V=Vs(i,Me(t));return dt(i,V).join("")}function Sq(e,t){var n=cu,i=qu;if(z(t)){var V="separator"in t?t.separator:V;n="length"in t?L(t.length):n,i="omission"in t?Ae(t.omission):i}e=D(e);var a=e.length;if(Qt(e)){var u=Me(e);a=u.length}if(n>=a)return e;var l=n-Wt(i);if(l<1)return i;var h=u?dt(u,0,l).join(""):e.slice(0,l);if(V===r)return h+i;if(u&&(l+=h.length-l),DV(V)){if(e.slice(l).search(V)){var q,g=h;for(V.global||(V=tV(V.source,D(Er.exec(V))+"g")),V.lastIndex=0;q=V.exec(g);)var p=q.index;h=h.slice(0,p===r?l:p)}}else if(e.indexOf(Ae(V),l)!=l){var m=h.lastIndexOf(V);m>-1&&(h=h.slice(0,m))}return h+i}function yq(e){return e=D(e),e&&Cu.test(e)?e.replace(_r,jo):e}var Eq=Zt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),WV=Zs("toUpperCase");function Ka(e,t,n){return e=D(e),t=n?r:t,t===r?Ko(e)?tl(e):Po(e):e.match(t)||[]}var Xa=M(function(e,t){try{return fe(e,r,t)}catch(n){return PV(n)?n:new x(n)}}),Iq=et(function(e,t){return me(t,function(n){n=ze(n),je(e,n,UV(e[n],e))}),e});function xq(e){var t=e==null?0:e.length,n=y();return e=t?N(e,function(i){if(typeof i[1]!="function")throw new _e(T);return[n(i[0]),i[1]]}):[],M(function(i){for(var V=-1;++V<t;){var a=e[V];if(fe(a[0],this,i))return fe(a[1],this,i)}})}function Oq(e){return jl(ye(e,ut))}function GV(e){return function(){return e}}function Tq(e,t){return e==null||e!==e?t:e}var Lq=Js(),Rq=Js(!0);function le(e){return e}function NV(e){return xs(typeof e=="function"?e:ye(e,ut))}function Mq(e){return Ts(ye(e,ut))}function Cq(e,t){return Ls(e,ye(t,ut))}var Bq=M(function(e,t){return function(n){return pn(n,e,t)}}),bq=M(function(e,t){return function(n){return pn(e,n,t)}});function zV(e,t,n){var i=$(t),V=Vi(t,i);n==null&&!(z(t)&&(V.length||!i.length))&&(n=t,t=e,e=this,V=Vi(t,$(t)));var a=!(z(n)&&"chain"in n)||!!n.chain,u=nt(e);return me(V,function(l){var h=t[l];e[l]=h,u&&(e.prototype[l]=function(){var q=this.__chain__;if(a||q){var g=e(this.__wrapped__),p=g.__actions__=ae(this.__actions__);return p.push({func:h,args:arguments,thisArg:e}),g.__chain__=q,g}return h.apply(e,ft([this.value()],arguments))})}),e}function Uq(){return ee._===this&&(ee._=al),this}function HV(){}function kq(e){return e=L(e),M(function(t){return Rs(t,e)})}var Pq=SV(N),Dq=SV(jr),Fq=SV(Xi);function Za(e){return LV(e)?Zi(ze(e)):gf(e)}function Qq(e){return function(t){return e==null?r:xt(e,t)}}var Wq=$s(),Gq=$s(!0);function KV(){return[]}function XV(){return!1}function Nq(){return{}}function zq(){return""}function Hq(){return!0}function Kq(e,t){if(e=L(e),e<1||e>ot)return[];var n=We,i=ne(e,We);t=y(t),e-=We;for(var V=ji(i,t);++n<e;)t(n);return V}function Xq(e){return O(e)?N(e,ze):ce(e)?[e]:ae(qa(D(e)))}function Zq(e){var t=++rl;return D(e)+t}var Yq=li(function(e,t){return e+t},0),Jq=yV("ceil"),jq=li(function(e,t){return e/t},1),$q=yV("floor");function eg(e){return e&&e.length?ii(e,le,oV):r}function tg(e,t){return e&&e.length?ii(e,y(t,2),oV):r}function ng(e){return ts(e,le)}function ig(e,t){return ts(e,y(t,2))}function Vg(e){return e&&e.length?ii(e,le,AV):r}function rg(e,t){return e&&e.length?ii(e,y(t,2),AV):r}var sg=li(function(e,t){return e*t},1),ag=yV("round"),ug=li(function(e,t){return e-t},0);function og(e){return e&&e.length?Ji(e,le):0}function lg(e,t){return e&&e.length?Ji(e,y(t,2)):0}return s.after=MA,s.ary=Ia,s.assign=vc,s.assignIn=Fa,s.assignInWith=Si,s.assignWith=wc,s.at=mc,s.before=xa,s.bind=UV,s.bindAll=Iq,s.bindKey=Oa,s.castArray=NA,s.chain=Sa,s.chunk=$f,s.compact=eh,s.concat=th,s.cond=xq,s.conforms=Oq,s.constant=GV,s.countBy=oA,s.create=_c,s.curry=Ta,s.curryRight=La,s.debounce=Ra,s.defaults=Sc,s.defaultsDeep=yc,s.defer=CA,s.delay=BA,s.difference=nh,s.differenceBy=ih,s.differenceWith=Vh,s.drop=rh,s.dropRight=sh,s.dropRightWhile=ah,s.dropWhile=uh,s.fill=oh,s.filter=fA,s.flatMap=cA,s.flatMapDeep=qA,s.flatMapDepth=gA,s.flatten=va,s.flattenDeep=lh,s.flattenDepth=fh,s.flip=bA,s.flow=Lq,s.flowRight=Rq,s.fromPairs=hh,s.functions=Rc,s.functionsIn=Mc,s.groupBy=dA,s.initial=ch,s.intersection=qh,s.intersectionBy=gh,s.intersectionWith=dh,s.invert=Bc,s.invertBy=bc,s.invokeMap=vA,s.iteratee=NV,s.keyBy=wA,s.keys=$,s.keysIn=oe,s.map=di,s.mapKeys=kc,s.mapValues=Pc,s.matches=Mq,s.matchesProperty=Cq,s.memoize=vi,s.merge=Dc,s.mergeWith=Qa,s.method=Bq,s.methodOf=bq,s.mixin=zV,s.negate=wi,s.nthArg=kq,s.omit=Fc,s.omitBy=Qc,s.once=UA,s.orderBy=mA,s.over=Pq,s.overArgs=kA,s.overEvery=Dq,s.overSome=Fq,s.partial=kV,s.partialRight=Ma,s.partition=_A,s.pick=Wc,s.pickBy=Wa,s.property=Za,s.propertyOf=Qq,s.pull=mh,s.pullAll=ma,s.pullAllBy=_h,s.pullAllWith=Sh,s.pullAt=yh,s.range=Wq,s.rangeRight=Gq,s.rearg=PA,s.reject=EA,s.remove=Eh,s.rest=DA,s.reverse=BV,s.sampleSize=xA,s.set=Nc,s.setWith=zc,s.shuffle=OA,s.slice=Ih,s.sortBy=RA,s.sortedUniq=Ch,s.sortedUniqBy=Bh,s.split=cq,s.spread=FA,s.tail=bh,s.take=Uh,s.takeRight=kh,s.takeRightWhile=Ph,s.takeWhile=Dh,s.tap=eA,s.throttle=QA,s.thru=gi,s.toArray=ka,s.toPairs=Ga,s.toPairsIn=Na,s.toPath=Xq,s.toPlainObject=Da,s.transform=Hc,s.unary=WA,s.union=Fh,s.unionBy=Qh,s.unionWith=Wh,s.uniq=Gh,s.uniqBy=Nh,s.uniqWith=zh,s.unset=Kc,s.unzip=bV,s.unzipWith=_a,s.update=Xc,s.updateWith=Zc,s.values=jt,s.valuesIn=Yc,s.without=Hh,s.words=Ka,s.wrap=GA,s.xor=Kh,s.xorBy=Xh,s.xorWith=Zh,s.zip=Yh,s.zipObject=Jh,s.zipObjectDeep=jh,s.zipWith=$h,s.entries=Ga,s.entriesIn=Na,s.extend=Fa,s.extendWith=Si,zV(s,s),s.add=Yq,s.attempt=Xa,s.camelCase=eq,s.capitalize=za,s.ceil=Jq,s.clamp=Jc,s.clone=zA,s.cloneDeep=KA,s.cloneDeepWith=XA,s.cloneWith=HA,s.conformsTo=ZA,s.deburr=Ha,s.defaultTo=Tq,s.divide=jq,s.endsWith=tq,s.eq=Be,s.escape=nq,s.escapeRegExp=iq,s.every=lA,s.find=hA,s.findIndex=da,s.findKey=Ec,s.findLast=AA,s.findLastIndex=pa,s.findLastKey=Ic,s.floor=$q,s.forEach=ya,s.forEachRight=Ea,s.forIn=xc,s.forInRight=Oc,s.forOwn=Tc,s.forOwnRight=Lc,s.get=FV,s.gt=YA,s.gte=JA,s.has=Cc,s.hasIn=QV,s.head=wa,s.identity=le,s.includes=pA,s.indexOf=Ah,s.inRange=jc,s.invoke=Uc,s.isArguments=Lt,s.isArray=O,s.isArrayBuffer=jA,s.isArrayLike=ue,s.isArrayLikeObject=X,s.isBoolean=$A,s.isBuffer=pt,s.isDate=ec,s.isElement=tc,s.isEmpty=nc,s.isEqual=ic,s.isEqualWith=Vc,s.isError=PV,s.isFinite=rc,s.isFunction=nt,s.isInteger=Ca,s.isLength=mi,s.isMap=Ba,s.isMatch=sc,s.isMatchWith=ac,s.isNaN=uc,s.isNative=oc,s.isNil=fc,s.isNull=lc,s.isNumber=ba,s.isObject=z,s.isObjectLike=K,s.isPlainObject=yn,s.isRegExp=DV,s.isSafeInteger=hc,s.isSet=Ua,s.isString=_i,s.isSymbol=ce,s.isTypedArray=Jt,s.isUndefined=Ac,s.isWeakMap=cc,s.isWeakSet=qc,s.join=ph,s.kebabCase=Vq,s.last=Ie,s.lastIndexOf=vh,s.lowerCase=rq,s.lowerFirst=sq,s.lt=gc,s.lte=dc,s.max=eg,s.maxBy=tg,s.mean=ng,s.meanBy=ig,s.min=Vg,s.minBy=rg,s.stubArray=KV,s.stubFalse=XV,s.stubObject=Nq,s.stubString=zq,s.stubTrue=Hq,s.multiply=sg,s.nth=wh,s.noConflict=Uq,s.noop=HV,s.now=pi,s.pad=aq,s.padEnd=uq,s.padStart=oq,s.parseInt=lq,s.random=$c,s.reduce=SA,s.reduceRight=yA,s.repeat=fq,s.replace=hq,s.result=Gc,s.round=ag,s.runInContext=f,s.sample=IA,s.size=TA,s.snakeCase=Aq,s.some=LA,s.sortedIndex=xh,s.sortedIndexBy=Oh,s.sortedIndexOf=Th,s.sortedLastIndex=Lh,s.sortedLastIndexBy=Rh,s.sortedLastIndexOf=Mh,s.startCase=qq,s.startsWith=gq,s.subtract=ug,s.sum=og,s.sumBy=lg,s.template=dq,s.times=Kq,s.toFinite=it,s.toInteger=L,s.toLength=Pa,s.toLower=pq,s.toNumber=xe,s.toSafeInteger=pc,s.toString=D,s.toUpper=vq,s.trim=wq,s.trimEnd=mq,s.trimStart=_q,s.truncate=Sq,s.unescape=yq,s.uniqueId=Zq,s.upperCase=Eq,s.upperFirst=WV,s.each=ya,s.eachRight=Ea,s.first=wa,zV(s,function(){var e={};return Ge(s,function(t,n){F.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=w,me(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),me(["drop","take"],function(e,t){B.prototype[e]=function(n){n=n===r?1:j(L(n),0);var i=this.__filtered__&&!t?new B(this):this.clone();return i.__filtered__?i.__takeCount__=ne(n,i.__takeCount__):i.__views__.push({size:ne(n,We),type:e+(i.__dir__<0?"Right":"")}),i},B.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),me(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==vr||n==vu;B.prototype[e]=function(V){var a=this.clone();return a.__iteratees__.push({iteratee:y(V,3),type:n}),a.__filtered__=a.__filtered__||i,a}}),me(["head","last"],function(e,t){var n="take"+(t?"Right":"");B.prototype[e]=function(){return this[n](1).value()[0]}}),me(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");B.prototype[e]=function(){return this.__filtered__?new B(this):this[n](1)}}),B.prototype.compact=function(){return this.filter(le)},B.prototype.find=function(e){return this.filter(e).head()},B.prototype.findLast=function(e){return this.reverse().find(e)},B.prototype.invokeMap=M(function(e,t){return typeof e=="function"?new B(this):this.map(function(n){return pn(n,e,t)})}),B.prototype.reject=function(e){return this.filter(wi(y(e)))},B.prototype.slice=function(e,t){e=L(e);var n=this;return n.__filtered__&&(e>0||t<0)?new B(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=L(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},B.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},B.prototype.toArray=function(){return this.take(We)},Ge(B.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),V=s[i?"take"+(t=="last"?"Right":""):t],a=i||/^find/.test(t);!V||(s.prototype[t]=function(){var u=this.__wrapped__,l=i?[1]:arguments,h=u instanceof B,q=l[0],g=h||O(u),p=function(C){var U=V.apply(s,ft([C],l));return i&&m?U[0]:U};g&&n&&typeof q=="function"&&q.length!=1&&(h=g=!1);var m=this.__chain__,S=!!this.__actions__.length,E=a&&!m,R=h&&!S;if(!a&&g){u=R?u:new B(this);var I=e.apply(u,l);return I.__actions__.push({func:gi,args:[p],thisArg:r}),new Se(I,m)}return E&&R?e.apply(this,l):(I=this.thru(p),E?i?I.value()[0]:I.value():I)})}),me(["pop","push","shift","sort","splice","unshift"],function(e){var t=Wn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var V=arguments;if(i&&!this.__chain__){var a=this.value();return t.apply(O(a)?a:[],V)}return this[n](function(u){return t.apply(O(u)?u:[],V)})}}),Ge(B.prototype,function(e,t){var n=s[t];if(n){var i=n.name+"";F.call(Ht,i)||(Ht[i]=[]),Ht[i].push({name:t,func:n})}}),Ht[oi(r,wt).name]=[{name:"wrapper",func:r}],B.prototype.clone=Sl,B.prototype.reverse=yl,B.prototype.value=El,s.prototype.at=tA,s.prototype.chain=nA,s.prototype.commit=iA,s.prototype.next=VA,s.prototype.plant=sA,s.prototype.reverse=aA,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=uA,s.prototype.first=s.prototype.head,fn&&(s.prototype[fn]=rA),s},Gt=nl();_t?((_t.exports=Gt)._=Gt,Ni._=Gt):ee._=Gt}).call(En)})(ur,ur.exports);const De=ur.exports,bg=new URL("/this-is-not-battle-city/assets/enemy_death.d3a39305.mp3",self.location);class Ke extends Ei{constructor(o,r,w,v,k,T,xn,at,On){super(o,"Foe",w,!0,!0,!0),this.size={width:85,height:85},this.tankDefaultAngleSpeed=500,this.tankDefaultMaxSpeed=T,this.bulletPower=xn,this.tankshootSpeed=at,this.tankScore=On,this.tankDrawAngle=r,this.tankAngle=this.tankDrawAngle,this.tankSpeed=0,this.tankMaxSpeed=this.tankDefaultMaxSpeed,this.newPos=o,this.newPosGuess=o,this.timerShoot={active:!0,time:0},this.timerChangeDirection={active:!0,time:0},this.actorSpriteString_1=v,this.actorSpriteString_2=k,this.activeSprite="sprite_1",this.actorSprite=new Image,this.actorSprite.src=v,this.timerTankMove={active:!0,time:0},this.deathSprite=new Image,this.deathSprite.src=au,this.deathFrame=0,this.deathTimer={active:!1,time:0},this.audioDeath=new Audio(bg.toString()),this.audioDeath.volume=.15}update(o){if(this.timerTankMove.active===!0&&(this.timerTankMove.time+=o),this.deathTimer.active===!0&&(this.deathTimer.time+=o),this.timerShoot.active===!0&&(this.timerShoot.time+=o),this.timerChangeDirection.active===!0&&(this.timerChangeDirection.time+=o),this.health<=0){if(this.deathTimer.active=!0,this.deathTimer.time>.04&&(this.deathFrame++,this.deathTimer.time=0),this.deathFrame===0)this.audioDeath.load(),this.audioDeath.play(),this.actorCollisions=!1,this.bulletImpact=!1,this.bulletImpactDamage=!1;else if(this.deathFrame===8){H.score+=this.tankScore;const r=b.indexOf(this);b.splice(r,1)}}else De.random(0,99)>97&&this.timerChangeDirection.time>1&&(this.getNewRandomDirection(),this.timerChangeDirection.time=0),this.tankDrawAngle,this.tankAngle,this.tankDrawAngle===2*Math.PI&&(this.tankDrawAngle=0),this.tankSpeed=this.tankSpeed*.6+this.tankMaxSpeed,this.newPos={x:this.position.x+Math.cos(this.tankAngle)*this.tankSpeed*o,y:this.position.y+Math.sin(this.tankAngle)*this.tankSpeed*o},this.newPosGuess={x:this.newPos.x+Math.cos(this.tankAngle)*this.tankSpeed*o,y:this.newPos.y+Math.sin(this.tankAngle)*this.tankSpeed*o},gr(this.newPos,this.size)&&!uu(this)?this.position=this.newPos:(this.tankMaxSpeed=0,this.getNewRandomDirection()),this.timerShoot.time>this.tankshootSpeed&&(this.timerShoot.time=0,b.push(new qr({x:this.position.x+this.size.width/2*Math.cos(this.tankAngle),y:this.position.y+this.size.height/2*Math.sin(this.tankAngle)},"Foe",this.bulletPower,this.tankAngle,this))),this.tankSpeed>0&&this.timerTankMove.time>.06&&(this.activeSprite==="sprite_1"?(this.actorSprite.src=this.actorSpriteString_2,this.activeSprite="sprite_2"):this.activeSprite==="sprite_2"&&(this.actorSprite.src=this.actorSpriteString_1,this.activeSprite="sprite_1"),this.timerTankMove.time=0)}draw(o,r){this.health<=0?(o.translate(this.position.x,this.position.y),o.drawImage(this.deathSprite,this.deathFrame*256,0,256,256,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height)):(o.translate(this.position.x,this.position.y),o.rotate(this.tankAngle+Math.PI/2),o.drawImage(this.actorSprite,-this.size.width/2,-this.size.height/2,this.size.width,this.size.height))}getNewRandomDirection(){const o=[0,Math.PI/2,Math.PI,-Math.PI/2];let r=o[De.random(0,3)];for(;r===this.tankAngle;)r=o[De.random(0,3)];this.tankAngle=r,this.tankMaxSpeed=this.tankDefaultMaxSpeed}}const Ug="/this-is-not-battle-city/assets/EnemyStandard_Tank_A.0b394b96.png",kg="/this-is-not-battle-city/assets/EnemyStandard_Tank_B.ae4566c5.png",Pg="/this-is-not-battle-city/assets/EnemyRapid_Tank_A.75824dd1.png",Dg="/this-is-not-battle-city/assets/EnemyRapid_Tank_B.cffe14bd.png",Fg="/this-is-not-battle-city/assets/EnemyHeavy_Tank_A.2d51b7f9.png",Qg="/this-is-not-battle-city/assets/EnemyHeavy_Tank_B.b1af73fb.png",Wg="/this-is-not-battle-city/assets/EnemyStrong_Tank_A.93dee0eb.png",Gg="/this-is-not-battle-city/assets/EnemyStrong_Tank_B.0a2cf8e4.png";class ou extends Ke{constructor(o,r){super(o,r,1,Ug,kg,100,1,.8,100)}}class lu extends Ke{constructor(o,r){super(o,r,1,Pg,Dg,150,1,.5,150)}}class fu extends Ke{constructor(o,r){super(o,r,4,Fg,Qg,60,1,.8,400)}}class hu extends Ke{constructor(o,r){super(o,r,2,Wg,Gg,80,2,2,300)}}let vt;const Ng=d=>{d<0?(vt=Ja.find(T=>T.id==="LevelRandom"),vt.map=zg(),vt.background=Kg(),Hg()):(vt=Ja.find(T=>T.id===`Level${d}`),vt.enemies.forEach(T=>{switch(T.type){case"EnemyTankStandard":b.push(new ou(T.position,T.angle));break;case"EnemyTankRapid":b.push(new lu(T.position,T.angle));break;case"EnemyTankStrong":b.push(new hu(T.position,T.angle));break;case"EnemyTankHeavy":b.push(new fu(T.position,T.angle));break}}));let o=vt.map.split(`
`).map(T=>T.trim().split(""));const r=100,w=100;let v=0,k=200;o.forEach((T,xn)=>{v=0,T.forEach((at,On)=>{switch(at){case".":break;case"%":b.push(new cr({x:v+r/2,y:k+w/2}));break;case"*":break;case"O":b.push(new ru({x:v+r/2,y:k+w/2}));break;case"X":b.push(new su({x:v+r/2,y:k+w/2}));break;case"S":b.push(new yg({x:v+r/2,y:k+w/2}));break;default:console.log("Character not valid in map template:",at);break}v+=r}),k+=w})},zg=()=>{let d=[[],[],[],[],[],[],[],[],[],[],[],[],[]],o,r;for(let w=0;w<=12;w++)for(let v=0;v<=12;v++)o=De.random(1,100),o<60?d[w].push("."):o>=60&&o<85?d[w].push("O"):o>=85&&o<95?d[w].push("X"):o>=95&&o<=100&&d[w].push("S");for(;;)if(o=De.random(0,12),r=De.random(0,12),d[o][r]==="."){d[o][r]="%";break}return d.map(w=>w.join("")).join(`
`)},Hg=()=>{let d=De.random(3,6);const o=["EnemyTankStandard","EnemyTankRapid","EnemyTankStrong","EnemyTankHeavy"];for(let r=1;r<=d;r++){let w,v;for(;;)if(w=De.random(0,12),v=De.random(0,12),vt.map.split(`
`).map(T=>T.split(""))[w][v]==="."){switch(o[De.random(0,3)]){case"EnemyTankStandard":b.push(new ou({x:v*100+50,y:w*100+250},Math.PI/2));break;case"EnemyTankRapid":b.push(new lu({x:v*100+50,y:w*100+250},Math.PI/2));break;case"EnemyTankStrong":b.push(new hu({x:v*100+50,y:w*100+250},Math.PI/2));break;case"EnemyTankHeavy":b.push(new fu({x:v*100+50,y:w*100+250},Math.PI/2));break}break}}},Kg=()=>[Ar,hr,Vu][De.random(0,2)],Xg=new URL("/this-is-not-battle-city/assets/win.1a77d29f.mp3",self.location),Zg=new URL("/this-is-not-battle-city/assets/lose.63524673.mp3",self.location);class Yg{constructor(o){this.livesP1=0,this.chrono={time:0,active:!1},this.level=o,this.enemies=0,this.score=0,this.FPS=0,this.aHearthsP1=[],this.aEnemies=[],this.pause=!1,this.winState=!1,this.loseState=!1,this.audioWin=new Audio(Xg.toString()),this.audioWin.volume=.5,this.audioWinPlayed=!1,this.audioLose=new Audio(Zg.toString()),this.audioLose.volume=.5,this.audioLosePlayed=!1,Ng(+this.level),this.backgroundSprite=new Image,this.backgroundSprite.src=vt.background;const r=b.find(w=>w instanceof cr);b.push(new rt(r.position,3,-Math.PI/2,$a))}update(o){this.chrono.active===!0&&(this.chrono.time+=o);const r=b.filter(v=>v instanceof rt);for(let v=0;v<=r.length-1;v++)r[v].keyboardMap===$a&&(this.livesP1=r[v].health,r[v].health<=0&&(this.loseState=!0));if(this.livesP1<this.aHearthsP1.length)for(let v=this.aHearthsP1.length;v>this.livesP1;v--)this.aHearthsP1.pop();else if(this.livesP1>this.aHearthsP1.length){for(let v=this.aHearthsP1.length;v<this.livesP1;v++)this.aHearthsP1.push(new hg({x:0,y:0}));this.aHearthsP1.forEach((v,k)=>{v.position={x:20+60*k,y:80}})}const w=b.filter(v=>v instanceof Ke);if(w.length<this.aEnemies.length)for(let v=this.aEnemies.length;v>w.length;v--)this.aEnemies.pop();else if(w.length>this.aEnemies.length){for(let v=this.aEnemies.length;v<w.length;v++)this.aEnemies.push(new Ag({x:0,y:0}));this.aEnemies.forEach((v,k)=>{v.position={x:1220-70*k,y:85}})}w.length===0&&(this.winState=!0),(this.loseState===!0||this.winState===!0)&&(this.chrono.active=!1,b.filter(v=>v instanceof rt).forEach(v=>{v.audioIdle.load(),v.audioAcc.load(),v.audioShot.load()})),this.loseState===!0&&this.audioLosePlayed===!1?(this.audioLose.play(),this.audioLosePlayed=!0):this.winState===!0&&this.audioWinPlayed===!1&&(this.audioWin.play(),this.audioWinPlayed=!0)}draw(o,r){if(this.loseState===!0)o.fillStyle="black",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.fillStyle="white",o.direction="ltr",o.font="600 120px Verdana",o.fillText("YOU LOSE!",300,450),o.font="bold 90px Verdana",o.fillText(`SCORE: ${this.score}`,360,750),o.font="50px Verdana",o.fillText("Press ESC to continue...",350,1400);else if(this.winState===!0)this.aHearthsP1.forEach((w,v)=>{w.position={x:630+60*v,y:845}}),o.fillStyle="black",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.fillStyle="white",o.direction="ltr",o.font="600 120px Verdana",o.fillText("YOU WIN!",310,350),o.font="bold 80px Verdana",o.fillText("SCORE",480,600),o.font="bold 60px Verdana",o.fillText(`TANK: ${this.score}`,400,710),o.fillText(`TIME: ${this.chrono.time.toFixed(0)}`,412,810),o.fillText("LIFE:",432,920),o.font="bold 90px Verdana",o.fillText(`TOTAL SCORE: ${(this.livesP1*100+this.score+(120-this.chrono.time)).toFixed(0)}`,180,1160),o.font="50px Verdana",o.fillText("Press ESC to continue...",350,1400),this.aHearthsP1.forEach(w=>{w.update(r),w.draw(o,r)});else{o.fillStyle="white",o.direction="ltr";const w=(1/r).toFixed(0);o.font="26px Verdana",o.fillText(`${w} FPS`,600,30),o.fillStyle="white",o.font="bold 60px Verdana",o.fillText("LEVEL",550,100),+this.level>=0?o.fillText(`${this.level}`,630,170):o.fillText("RANDOM",510,170),o.fillText(`TIME: ${this.chrono.time.toFixed(0)}`,10,60),o.direction="rtl",o.fillText(`SCORE: ${this.score}`,1280,60),o.direction="ltr",this.aEnemies.forEach(v=>{v.update(r),v.draw(o,r)}),this.pause===!0&&(o.fillStyle="white",o.direction="ltr",o.font="600 200px Verdana",o.fillText("PAUSE",300,850)),this.aHearthsP1.forEach(v=>{v.update(r),v.draw(o,r)})}}paintBackground(o){o.fillStyle="black",o.fillRect(0,0,o.canvas.width,200);for(let r=200;r<o.canvas.height;r+=200)for(let w=0;w<o.canvas.width;w+=200)o.drawImage(this.backgroundSprite,w,r,200,200)}}let pe=new URL("/this-is-not-battle-city/assets/pause.305ed093.mp3",self.location);const or=new Audio(pe.toString());pe=new URL("/this-is-not-battle-city/assets/play.a92c4b39.mp3",self.location);const lr=new Audio(pe.toString());pe=new URL("/this-is-not-battle-city/assets/start_level.8d904fe7.mp3",self.location);const fr=new Audio(pe.toString());pe=new URL("/this-is-not-battle-city/assets/music_menu.41c8aa25.mp3",self.location);const Oe=new Audio(pe.toString());pe=new URL("data:audio/mpeg;base64,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",self.location);const Y=new Audio(pe.toString());pe=new URL("/this-is-not-battle-city/assets/button_level.76c57038.mp3",self.location);const de=new Audio(pe.toString());pe=new URL("/this-is-not-battle-city/assets/button_click.face9013.mp3",self.location);const ke=new Audio(pe.toString());or.volume=1;lr.volume=1;fr.volume=1;Oe.volume=.1;Oe.loop=!0;Y.volume=1;de.volume=1;ke.volume=1;let ZV,YV,JV,jV,$V,er,tr,nr,ir,Vr,Rt,en,Ue,yi,Te,Pe;window.onload=()=>{ZV=document.getElementById("levels"),YV=document.getElementById("level1"),JV=document.getElementById("level2"),jV=document.getElementById("level3"),$V=document.getElementById("level4"),er=document.getElementById("level5"),tr=document.getElementById("levelRandom"),nr=document.getElementById("controls"),ir=document.getElementById("back_controls"),Vr=document.getElementById("back_levels"),Rt=document.getElementById("muteMusic"),en=document.getElementById("menu-container"),Ue=document.getElementById("level-container"),yi=document.getElementById("controls-container"),Te=document.getElementById("canvas"),Pe=Te.getContext("2d"),ZV.addEventListener("click",d=>{ke.load(),ke.play(),Ue.classList.remove("hidden"),en.classList.add("hidden")}),nr.addEventListener("click",d=>{ke.load(),ke.play(),yi.classList.remove("hidden"),en.classList.add("hidden")}),ir.addEventListener("click",d=>{ke.load(),ke.play(),en.classList.remove("hidden"),yi.classList.add("hidden")}),Vr.addEventListener("click",d=>{ke.load(),ke.play(),en.classList.remove("hidden"),Ue.classList.add("hidden")}),YV.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("1")})}),JV.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("2")})}),jV.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("3")})}),$V.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("4")})}),er.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("5")})}),tr.addEventListener("click",d=>{de.load(),de.play(),Oe.load(),Mt(200).then(()=>{Te.classList.remove("hidden"),Ue.classList.add("hidden"),$t("-1")})}),Rt.addEventListener("click",d=>{Te.classList.contains("hidden")&&(Rt.innerHTML==="Music ON"?(Oe.pause(),Rt.innerHTML="Music OFF"):(Oe.play(),Rt.innerHTML="Music ON"))}),ZV.addEventListener("mouseover",d=>{Y.load(),Y.play()}),nr.addEventListener("mouseover",d=>{Y.load(),Y.play()}),ir.addEventListener("mouseover",d=>{Y.load(),Y.play()}),Vr.addEventListener("mouseover",d=>{Y.load(),Y.play()}),YV.addEventListener("mouseover",d=>{Y.load(),Y.play()}),JV.addEventListener("mouseover",d=>{Y.load(),Y.play()}),jV.addEventListener("mouseover",d=>{Y.load(),Y.play()}),$V.addEventListener("mouseover",d=>{Y.load(),Y.play()}),er.addEventListener("mouseover",d=>{Y.load(),Y.play()}),tr.addEventListener("mouseover",d=>{Y.load(),Y.play()}),Rt.innerHTML==="Music ON"&&Oe.play()};let b,H,tu=0;const Mt=d=>new Promise(o=>setTimeout(o,d)),$t=d=>{b=[],H=new Yg(d),H.paintBackground(Pe),H.draw(Pe,0),fr.load(),fr.play(),Mt(1300).then(()=>{H.chrono={time:-2,active:!0},window.requestAnimationFrame(Au)})},Au=d=>{let o=(d-tu)/1e3;tu=d,H.update(o),H.loseState===!1&&H.winState===!1&&(H.pause===!1&&b.forEach(r=>{r.update(o)}),Pe.clearRect(0,0,Pe.canvas.width,Pe.canvas.height),H.paintBackground(Pe),b.forEach(r=>{Pe.save(),r.draw(Pe,o),Pe.restore()})),H.draw(Pe,o),Te.classList.contains("hidden")||window.requestAnimationFrame(Au)};document.body.addEventListener("keydown",d=>{d.key==="p"?H.pause===!1?(H.pause=!0,H.chrono.active=!1,or.load(),or.play()):(H.pause=!1,H.chrono.active=!0,lr.load(),lr.play()):d.key==="Escape"?Te.classList.contains("hidden")?(ke.load(),ke.play(),en.classList.remove("hidden"),yi.classList.add("hidden"),Ue.classList.add("hidden")):H.winState===!1&&H.loseState===!1?H.loseState=!0:(Ue.classList.remove("hidden"),Te.classList.add("hidden"),H.audioLose.load(),H.audioWin.load(),Rt.innerHTML==="Music ON"&&Oe.play()):H.pause===!1&&b.forEach(o=>{o.keyboard_event_down(d.key)})});document.body.addEventListener("keyup",d=>{H.pause===!1&&b.forEach(o=>{o.keyboard_event_up(d.key)})});
